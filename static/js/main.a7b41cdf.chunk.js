(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(31).concat([function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(26),a=c.n(s),n=c(6),i=c(2),r=c(10),l=c.n(r),o=(c(31),c(0)),d=function(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"footer__content",children:[Object(o.jsx)(n.b,{to:"/",children:Object(o.jsx)("img",{src:"./logo.svg",alt:"logo"})}),Object(o.jsx)("nav",{className:"footer__nav nav",children:Object(o.jsxs)("ul",{className:"nav__list",children:[Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"https://github.com/",target:"_blank",className:function(e){var t=e.isActive;return l()("nav__link",{"nav__link--active":t})},children:"Github"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"https://github.com/",target:"_blank",className:function(e){var t=e.isActive;return l()("nav__link",{"nav__link--active":t})},children:"Contacts"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"https://github.com/",target:"_blank",className:function(e){var t=e.isActive;return l()("nav__link",{"nav__link--active":t})},children:"Rights"})})]})}),Object(o.jsx)("button",{type:"button",className:"footer__backToTop icon",onClick:function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Back to top"})]})})})},j=c(1),u=c(8),b=c(4),h=c(5),m=c.n(h);function O(e){return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch("./api"+e)})).then((function(e){if(!e.ok)throw new Error;return e.json()}));var t}var p,_,v,x=function(e){return O(e)},f=function(e,t){return x("/products/".concat(e,"-").concat(t,".json"))};!function(e){e.LOAD="load",e.ADD="add",e.INCREASE="increase",e.DECREASE="decrease",e.REMOVE="remove"}(p||(p={})),function(e){e.LOAD="load",e.ADD="add",e.REMOVE="remove"}(_||(_={})),function(e){e.NEWEST="age",e.ALPHABET="name",e.CHEAPEST="price"}(v||(v={}));var g=c(11),N=c(9),y=function(e,t){return Math.ceil(e-e*t/100)};function w(e,t){localStorage.setItem(e,JSON.stringify(t))}function k(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function C(e,t){return t.reduce((function(t,c){return c.type===e?t+1:t}),0)}function E(e,t,c,s,a){return"/".concat("tablet"===e?"tablets":"phones","/").concat(t,"-").concat(c,"-").concat(s,"-").concat(a)}var A=function(e,t){switch(t.type){case p.LOAD:var c=k("cart");return Object(N.a)(Object(N.a)({},e),{},{cart:c});case p.INCREASE:var s=e.cart.map((function(e){return e.id===t.payload?Object(N.a)(Object(N.a)({},e),{},{quantity:e.quantity+1}):e}));return w("cart",s),Object(N.a)(Object(N.a)({},e),{},{cart:s});case p.DECREASE:var a=e.cart.map((function(e){return e.id===t.payload?Object(N.a)(Object(N.a)({},e),{},{quantity:e.quantity-1}):e}));return w("cart",a),Object(N.a)(Object(N.a)({},e),{},{cart:a});case p.ADD:var n=[].concat(Object(g.a)(e.cart),[t.payload]);return w("cart",n),Object(N.a)(Object(N.a)({},e),{},{cart:n});case p.REMOVE:var i=e.cart.filter((function(e){return e.id!==t.payload}));return w("cart",i),Object(N.a)(Object(N.a)({},e),{},{cart:i});default:throw new Error("Uknown action")}},S=function(e,t){switch(t.type){case _.LOAD:var c=k("favorites");return Object(N.a)(Object(N.a)({},e),{},{favorites:c});case _.ADD:var s=[].concat(Object(g.a)(e.favorites),[t.payload]);return w("favorites",s),Object(N.a)(Object(N.a)({},e),{},{favorites:s});case _.REMOVE:var a=e.favorites.filter((function(e){return e.id!==t.payload}));return w("favorites",a),Object(N.a)(Object(N.a)({},e),{},{favorites:a});default:throw new Error("Uknown action")}},P=Object(j.createContext)({products:[],favorites:[],cart:[],dispatchCart:function(){return null},dispatchFavorites:function(){return null}}),B=function(e){var t=e.children,c=Object(j.useState)([]),s=Object(b.a)(c,2),a=s[0],n=s[1],i=Object(j.useReducer)(S,{favorites:[]}),r=Object(b.a)(i,2),l=r[0].favorites,d=r[1],h=Object(j.useReducer)(A,{cart:[]}),O=Object(b.a)(h,2),v=O[0].cart,f=O[1],g=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/products.json");case 3:t=e.sent,n(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Unable to load products!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){g(),f({type:p.LOAD}),d({type:_.LOAD})}),[]),Object(o.jsx)(P.Provider,{value:{products:a,favorites:l,cart:v,dispatchFavorites:d,dispatchCart:f},children:t})},T=(c(34),function(){var e=Object(j.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],a=Object(j.useState)(""),r=Object(b.a)(a,2),l=r[0],d=r[1],u=Object(n.d)(),h=Object(b.a)(u,2),m=h[0],O=h[1],p=Object(i.l)();Object(j.useEffect)((function(){c.length?m.set("query",l):(m.delete("query"),d("")),O(m)}),[l,c]);var _=Object(j.useCallback)(function(e,t){var c;return function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];c&&clearTimeout(c),c=setTimeout((function(){e.call.apply(e,[null].concat(a))}),t)}}(d,500),[]);return Object(o.jsxs)("div",{className:"search__container",children:[Object(o.jsx)("input",{type:"search",name:"query",className:"search",value:c,onChange:function(e){s(e.currentTarget.value),_(e.currentTarget.value)},placeholder:"Search in ".concat(p.pathname.slice(1),"...")}),c.length>0?Object(o.jsx)("button",{type:"button",onClick:function(){return s("")},children:Object(o.jsx)("img",{className:"search__img",src:"img/icons/Close.svg",alt:"close"})}):Object(o.jsx)("img",{className:"search__img",src:"img/icons/Search.svg",alt:"search"})]})}),R=(c(35),function(){var e=Object(j.useContext)(P),t=e.favorites,c=e.cart,s=Object(i.l)().pathname;return Object(o.jsxs)("header",{className:"header",id:"header",children:[Object(o.jsx)(n.b,{to:"/",children:Object(o.jsx)("img",{src:"./logo.svg",alt:"logo"})}),Object(o.jsx)("nav",{className:"header__nav nav",style:{display:"/cart"===s?"none":"block"},children:Object(o.jsxs)("ul",{className:"nav__list",children:[Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"/home",className:function(e){var t=e.isActive;return l()("nav__link",{"nav__link--active":t})},children:"Home"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"/phones",className:function(e){var t=e.isActive;return l()("nav__link",{"nav__link--active":t})},children:"Phones"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"/tablets",className:function(e){var t=e.isActive;return l()("nav__link",{"nav__link--active":t})},children:"Tablets"})}),Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(n.c,{to:"/accessories",className:function(e){var t=e.isActive;return l()("nav__link",{"nav__link--active":t})},children:"Accessories"})})]})}),Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{path:"/favorites",element:Object(o.jsx)(T,{})}),Object(o.jsx)(i.b,{path:"/phones",element:Object(o.jsx)(T,{})}),Object(o.jsx)(i.b,{path:"/tablets",element:Object(o.jsx)(T,{})}),Object(o.jsx)(i.b,{path:"/accessories",element:Object(o.jsx)(T,{})})]}),Object(o.jsxs)(n.b,{className:l()("header__icon",{"icon__favor--items":!!t.length}),to:"/favorites",style:{display:"/cart"===s?"none":"flex"},children:[Object(o.jsx)("img",{className:"header__img",src:"/img/icons/favourites.svg",alt:"favourites"}),!!t.length&&Object(o.jsx)("span",{className:"header__countLabel",children:t.length})]}),Object(o.jsxs)(n.b,{className:"header__icon",to:"/cart",children:[Object(o.jsx)("img",{src:"/img/icons/cart.svg",alt:"cart"}),!!c.length&&Object(o.jsx)("span",{className:"header__countLabel",children:c.length})]})]})}),D=(c(36),function(e){var t=e.children,c=e.width,s=e.height,a=e.handler,n=e.type,i=e.disabled;return Object(o.jsx)("button",{type:"button",className:"button ".concat(n||""),disabled:i,style:{width:"".concat(c),height:"".concat(s)},onClick:a,children:t})}),L=(c(37),function(e){var t=e.item,c=Object(j.useContext)(P).dispatchCart,s=Object(j.useCallback)((function(){c({type:p.INCREASE,payload:t.id})}),[t]),a=Object(j.useCallback)((function(){1!==t.quantity&&c({type:p.DECREASE,payload:t.id})}),[t]),n=Object(j.useCallback)((function(){c({type:p.REMOVE,payload:t.id})}),[t]);return Object(o.jsxs)("div",{className:"cart-item",children:[Object(o.jsx)(D,{width:"10px",height:"10px",type:"button--close",handler:n,children:Object(o.jsx)("img",{src:"/img/icons/Close.svg",alt:"Remove"})}),Object(o.jsx)("img",{className:"cart-item__img",src:t.imageUrl,alt:"item"}),Object(o.jsx)("p",{className:"cart-item__name",children:t.product}),Object(o.jsxs)("div",{className:"cart-item__buttons",children:[Object(o.jsx)(D,{width:"32px",height:"32px",disabled:1===t.quantity,handler:a,children:Object(o.jsx)("img",{src:"/img/icons/Minus.svg",alt:"decrease"})}),Object(o.jsx)("span",{className:"cart-item__count",children:t.quantity}),Object(o.jsx)(D,{width:"32px",height:"32px",handler:s,children:Object(o.jsx)("img",{src:"/img/icons/Plus.svg",alt:"increase"})})]}),Object(o.jsx)("h2",{className:"cart-item__price",children:"$".concat(t.price*t.quantity)})]})}),M=(c(38),function(){var e=Object(i.n)(),t=Object(j.useState)(!1),c=Object(b.a)(t,2),s=c[0],a=c[1],n=Object(j.useContext)(P).cart;Object(j.useEffect)((function(){var e=setTimeout((function(){a(!1)}),2e3);return function(){clearTimeout(e)}}),[s]);var r=Object(j.useMemo)((function(){return n.reduce((function(e,t){return e+t.quantity*t.price}),0)}),[n]),l=n.reduce((function(e,t){return e+t.quantity}),0);return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"cart",children:[Object(o.jsx)("button",{type:"button",className:"cart__back-btn",onClick:function(){return e(-1)},children:"Back"}),Object(o.jsx)("h1",{className:"cart__title",children:"Cart"}),Object(o.jsxs)("div",{className:"cart__content",children:[Object(o.jsx)("div",{className:"cart__items-block",children:n.length?Object(o.jsx)("div",{className:"cart__items",children:n.map((function(e){return Object(o.jsx)(L,{item:e},e.id)}))}):Object(o.jsx)("h2",{className:"cart__empty",children:"Your cart is empty"})}),Object(o.jsxs)("div",{className:"cart__total-block",children:[Object(o.jsx)("h1",{className:"cart__amount",children:"$".concat(r)}),Object(o.jsx)("span",{className:"cart__items-count",children:"Total for ".concat(l," items")}),Object(o.jsx)("div",{className:"cart__line"}),Object(o.jsx)(D,{width:"100%",height:"48px",type:"button__action",handler:function(){return a(!0)},children:"Checkout"}),s&&Object(o.jsx)("div",{className:"cart__message",children:"We are sorry, but this feature is not implemented yet"})]})]})]})})}),q=function(){return Object(o.jsx)(M,{})},I=(c(39),function(){var e=Object(i.l)().pathname.split("/").slice(1).map((function(e){return e[0].toUpperCase().concat(e.slice(1)).replaceAll(/-/g," ")}));return Object(o.jsx)("div",{className:"crumbs",children:Object(o.jsxs)("ul",{className:"crumbs__list",children:[Object(o.jsx)("li",{className:"crumbs__item",children:Object(o.jsx)(n.b,{to:"/",children:Object(o.jsx)("img",{src:"img/icons/Home.svg",alt:"Home"})})}),e.map((function(t,c){return Object(o.jsxs)("li",{className:"crumbs__item",children:[Object(o.jsx)("img",{src:"img/icons/arrowRight.svg",alt:"arrow"}),e[c]===e[e.length-1]?Object(o.jsx)("span",{className:"crumbs__path",children:t}):Object(o.jsx)(n.b,{className:"crumbs__link",to:"/".concat(t),children:t})]},t)}))]})})}),F=function(e){var t=e.height,c=e.product,s=Object(j.useContext)(P),a=s.cart,n=s.dispatchCart,i=a.some((function(e){return e.id===c.id}));return Object(o.jsx)(D,{width:"100%",height:"".concat(t),handler:function(){return function(e){var t=e.id,c=e.imageUrl,s=e.name,a=e.price,r=e.discount,l=y(a,r);if(i)n({type:p.REMOVE,payload:t});else{var o={id:t,imageUrl:c,quantity:1,product:s,price:l};n({type:p.ADD,payload:o})}}(c)},type:i?"button__action button__action--active":"button__action",children:i?"Added to cart":"Add to cart"})},U=function(e){var t=e.size,c=e.product,s=Object(j.useContext)(P),a=s.favorites,n=s.dispatchFavorites,i=a.some((function(e){return e.id===c.id}));return Object(o.jsx)(D,{height:t,width:t,handler:function(){return n(i?{type:_.REMOVE,payload:c.id}:{type:_.ADD,payload:c})},type:"button--favour",children:i?Object(o.jsx)("img",{src:"/img/icons/favouritesFilled.svg",alt:"favourites"}):Object(o.jsx)("img",{src:"/img/icons/favourites.svg",alt:"favourites"})})},V=(c(40),function(e){var t=e.product,c=t.id,s=t.name,a=t.price,i=t.ram,r=t.screen,l=t.capacity,d=t.imageUrl,j=t.discount,u=t.type,b=y(a,j);return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsxs)(n.b,{to:"/".concat("tablet"===u?"tablets":"phones","/").concat(c),className:"card__link",children:[Object(o.jsx)("img",{className:"card__img",src:d,alt:"card"}),Object(o.jsx)("h3",{className:"card__title",children:s})]}),Object(o.jsxs)("div",{className:"card__price",children:["$".concat(j?b:a),!!j&&Object(o.jsx)("span",{className:"card__price--sale",children:"$".concat(a)})]}),Object(o.jsx)("div",{className:"card__line"}),Object(o.jsxs)("div",{className:"card__characteristics",children:[Object(o.jsxs)("div",{className:"card__characteristics-row",children:[Object(o.jsx)("span",{className:"card__characteristics-title",children:"Screen"}),Object(o.jsx)("span",{className:"card__characteristics-value",children:r})]}),Object(o.jsxs)("div",{className:"card__characteristics-row",children:[Object(o.jsx)("span",{className:"card__characteristics-title",children:"Capacity"}),Object(o.jsx)("span",{className:"card__characteristics-value",children:l})]}),Object(o.jsxs)("div",{className:"card__characteristics-row",children:[Object(o.jsx)("span",{className:"card__characteristics-title",children:"RAM"}),Object(o.jsx)("span",{className:"card__characteristics-value",children:i})]})]}),Object(o.jsxs)("div",{className:"card__buttons",children:[Object(o.jsx)(F,{height:"40px",product:t}),Object(o.jsx)(U,{size:"40px",product:t})]})]})}),H=(c(41),Object(j.memo)((function(e){var t=e.products;return Object(o.jsx)("div",{className:"products",children:t.map((function(e){return Object(o.jsx)(V,{product:e},e.id)}))})}))),W=(c(42),c(43),function(e){var t=e.name;return Object(o.jsx)("section",{className:"result",children:Object(o.jsx)("h1",{className:"result__title",children:"".concat(t," not found")})})}),$=function(){var e=Object(j.useContext)(P).favorites,t=Object(n.d)(),c=Object(b.a)(t,1)[0].get("query")||"",s=e.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}));return Object(o.jsx)("section",{className:"favorites",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(I,{}),Object(o.jsx)("h1",{className:"favorites__title",children:"Favourites"}),Object(o.jsx)("div",{className:"favorites__count",children:c?"".concat(s.length," results"):"".concat(e.length," items")}),s.length>0?Object(o.jsx)(H,{products:s}):Object(o.jsx)(W,{name:"Product"})]})})},z=(c(44),function(e){var t=e.sectionTitle,c=e.products,s=Object(j.useState)(0),a=Object(b.a)(s,2),n=a[0],i=a[1],r=Object(j.useRef)(null);return Object(o.jsxs)("div",{className:"block",children:[Object(o.jsxs)("div",{className:"block__header",children:[Object(o.jsx)("h2",{className:"block__title",children:t}),Object(o.jsxs)("div",{className:"block__buttons",children:[Object(o.jsx)(D,{width:"32px",height:"32px",handler:function(){if(0!==n){var e=(n-1+c.length)%c.length;i(e),r.current&&(r.current.style.transform="translateX(-".concat(288*e,"px)"))}},disabled:0===n,children:Object(o.jsx)("img",{src:"/img/icons/arrowLeft.svg",alt:"prev"})}),Object(o.jsx)(D,{width:"32px",height:"32px",handler:function(){if(n!==c.length-4){var e=(n+1)%(c.length-3);i(e),r.current&&(r.current.style.transform="translateX(-".concat(288*e,"px)"))}},disabled:n===c.length-4,children:Object(o.jsx)("img",{src:"/img/icons/arrowRight.svg",alt:"next"})})]})]}),Object(o.jsx)("div",{className:"block__wrapper",children:Object(o.jsx)("div",{ref:r,className:"block__cards",children:c.map((function(e){return Object(o.jsx)(V,{product:e},e.id)}))})})]})}),G=function(){var e=Object(j.useContext)(P).products.filter((function(e){return e.age<=1&&0===e.discount})).sort((function(e,t){return t.price-e.price}));return Object(o.jsx)("section",{className:"page__section brandNew",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(z,{sectionTitle:"Brand new models",products:e})})})},J=(c(45),[{id:1,title:"Photo One",url:"./img/slider-img/banner.png"},{id:2,title:"Photo Two",url:"./img/slider-img/banner-2.jpg"},{id:3,title:"Photo Three",url:"./img/slider-img/banner-3.jpg"}]),X=function(){var e=Object(j.useState)(0),t=Object(b.a)(e,2),c=t[0],s=t[1],a=Object(j.useRef)(null),n=Object(j.useRef)(null),i=function(){var e=(c+1)%J.length;if(s(e),a.current&&n.current){var t=n.current.clientWidth;a.current.style.transform="translateX(-".concat(e*t,"px)")}};return Object(j.useEffect)((function(){var e=setTimeout(i,5e3);return function(){clearInterval(e)}}),[c]),Object(o.jsxs)("div",{className:"slider",children:[Object(o.jsx)(D,{width:"32px",height:"",handler:function(){var e=(c-1+J.length)%J.length;if(s(e),a.current&&n.current){var t=n.current.clientWidth;a.current.style.transform="translateX(-".concat(e*t,"px)")}},children:Object(o.jsx)("img",{src:"./img/icons/arrowLeft.svg",alt:"prev"})}),Object(o.jsx)("div",{className:"slider__content",children:Object(o.jsx)("div",{ref:a,className:"slider__wrapper",children:J.map((function(e,t){return Object(o.jsx)("div",{ref:n,className:l()("slider__slide",{"slider__slide--active":t===c}),style:{backgroundImage:"url(".concat(e.url,")")}},e.id)}))})}),Object(o.jsx)(D,{width:"32px",height:"",handler:i,children:Object(o.jsx)("img",{src:"./img/icons/arrowRight.svg",alt:"next"})}),Object(o.jsx)("div",{className:"slider__navigation",children:J.map((function(e,t){return Object(o.jsx)("div",{"aria-hidden":"true",className:l()("slider__dot",{"slider__dot--active":J[c].id===e.id}),onClick:function(){return s(t)},onKeyDown:function(){return s(t)}},e.id)}))})]})},Y=function(){var e=Object(j.useContext)(P).products.filter((function(e){return e.discount>0})).sort((function(e,t){return y(e.price,e.discount)-y(t.price,t.discount)}));return Object(o.jsx)("section",{className:"page__section hot-prices",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(X,{}),Object(o.jsx)(z,{sectionTitle:"Hot prices",products:e})]})})},K=(c(46),function(){var e=Object(j.useContext)(P).products,t=Object(j.useMemo)((function(){return C("smartphone",e)}),[e]),c=Object(j.useMemo)((function(){return C("tablet",e)}),[e]),s=Object(j.useMemo)((function(){return C("accessories",e)}),[e]);return Object(o.jsx)("section",{className:"page__section shopBy",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h2",{className:"shopBy__title",children:"Shop by category"}),Object(o.jsxs)("div",{className:"shopBy__categories",children:[Object(o.jsxs)("div",{className:"shopBy__category",children:[Object(o.jsxs)(n.b,{to:"/phones",className:"shopBy__link",children:[Object(o.jsx)("div",{className:"shopBy__container",children:Object(o.jsx)("img",{src:"./img/categories/phone.svg",alt:"phones category",className:"shopBy__category-img"})}),"Mobile phones"]}),Object(o.jsx)("span",{className:"shopBy__category-count",children:"".concat(t," models")})]}),Object(o.jsxs)("div",{className:"shopBy__category",children:[Object(o.jsxs)(n.b,{to:"/tablets",className:"shopBy__link",children:[Object(o.jsx)("div",{className:"shopBy__container shopBy__container--grey",children:Object(o.jsx)("img",{src:"./img/categories/tablet.svg",alt:"phones category",className:"shopBy__category-img"})}),"Tablets"]}),Object(o.jsx)("span",{className:"shopBy__category-count",children:"".concat(c," models")})]}),Object(o.jsxs)("div",{className:"shopBy__category",children:[Object(o.jsxs)(n.b,{to:"/accessories",className:"shopBy__link",children:[Object(o.jsx)("div",{className:"shopBy__container shopBy__container--red",children:Object(o.jsx)("img",{src:"./img/categories/cases.svg",alt:"phones category",className:"shopBy__category-img"})}),"Accessories"]}),Object(o.jsx)("span",{className:"shopBy__category-count",children:"".concat(s," models")})]})]})]})})}),Z=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Y,{}),Object(o.jsx)(K,{}),Object(o.jsx)(G,{})]})},Q=(c(47),function(){return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(I,{}),Object(o.jsx)("div",{className:"page__block",children:Object(o.jsx)("h1",{className:"page__title",children:"Page not found"})})]})}),ee=(c(48),function(e){var t=e.width,c=e.options,s=e.type,a=e.defaultValue,i=e.onSelect,r=e.search,l=Object(j.useState)(!1),d=Object(b.a)(l,2),u=d[0],h=d[1],m=Object(j.useState)(a),O=Object(b.a)(m,2),p=O[0],_=O[1],v=Object(n.d)(),x=Object(b.a)(v,2),f=x[0],g=x[1];Object(j.useEffect)((function(){f.get(r)||_(a)}),[f]);var N=Object(j.useCallback)((function(){return h(!u)}),[u]);return Object(o.jsxs)("div",{className:"select ".concat(s),style:{width:"".concat(t,"px")},children:[Object(o.jsxs)("div",{"aria-hidden":"true",className:"select__head",onClick:N,onKeyDown:N,children:[p,Object(o.jsx)("span",{className:"select__arrow",children:u?Object(o.jsx)("img",{src:"/img/icons/arrowUp.svg",alt:"select"}):Object(o.jsx)("img",{src:"/img/icons/arrowDown.svg",alt:"select"})})]}),u&&Object(o.jsx)("div",{className:"select__holder",style:{width:"".concat(t,"px")},onMouseLeave:N,children:Object(o.jsx)("ul",{className:"select__list",children:c.map((function(e){return Object(o.jsx)("li",{"aria-hidden":"true",className:"select__item",onClick:function(){return function(e){var t={Newest:"age",Alphabetically:"name",Cheapest:"price"};Object.hasOwn(t,e)?(f.set("sort",t[e]),g(f)):f.set("perPage",e),g(f),_(e),i(),h(!1)}(e)},children:e},e)}))})})]})}),te=(c(49),function(e){var t=e.total,c=e.perPage,s=e.onPageChange,a=e.currentPage,n=Math.ceil(t/c),i=function(e){for(var t=[],c=1;c<=e;c+=1)t.push(c);return t}(n);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("ul",{className:"pagination",children:[Object(o.jsx)("li",{className:l()("page-item",{disabled:1===a}),children:Object(o.jsx)(D,{width:"32px",height:"32px",disabled:1===a,handler:function(){a>1&&s(a-1)},children:Object(o.jsx)("img",{src:"/img/icons/arrowLeft.svg",alt:"prev"})})}),i.map((function(e){return Object(o.jsx)("li",{className:l()("page-item ",{"pagination__button--active":e===a}),children:Object(o.jsx)(D,{width:"32px",height:"32px",type:e===a?"button--page":"",handler:function(){return s(e)},children:e})},e)})),Object(o.jsx)(D,{width:"32px",height:"32px",disabled:a===n,handler:function(){a<=t&&s(a+1)},children:Object(o.jsx)("img",{src:"/img/icons/arrowRight.svg",alt:"next"})})]})})}),ce={sort:["Newest","Alphabetically","Cheapest"],perPage:["4","8","16","All"]},se=function(e){var t=e.title,c=e.products,s=Object(n.d)(),a=Object(b.a)(s,1)[0],i=Object(j.useState)(1),r=Object(b.a)(i,2),l=r[0],d=r[1],u=a.get("sort")||"",h=a.get("query")||"",m=Object(j.useCallback)((function(){var e=a.get("perPage");switch(e){case"All":return c.length;case null:return 16;default:return Number(e)}}),[a])(),O=function(){d(1)},p=l*m,_=p-m,x=Object(j.useCallback)((function(e){var t=Object(g.a)(c);switch(e){case v.NEWEST:return t.sort((function(e,t){return e.age-t.age}));case v.ALPHABET:return t.sort((function(e,t){return e.name.localeCompare(t.name)}));case v.CHEAPEST:return t.sort((function(e,t){return y(e.price,e.discount)-y(t.price,t.discount)}));default:return t}}),[c])(u).filter((function(e){return e.name.toLowerCase().includes(h.toLowerCase())})).slice(_,p),f=m<x.length||x.length===c.length;return Object(o.jsxs)("section",{className:"page__products",children:[Object(o.jsx)(I,{}),Object(o.jsx)("h1",{className:"page__title",children:t}),Object(o.jsx)("span",{className:"page__models-count",children:h?"".concat(x.length," results"):"".concat(c.length," models")}),Object(o.jsxs)("div",{className:"page__selectWrapper",children:[Object(o.jsx)(ee,{type:"select__sort",options:ce.sort,onSelect:O,width:176,search:"sort",defaultValue:"Newest"}),Object(o.jsx)(ee,{type:"select__pagination",options:ce.perPage,onSelect:O,width:128,defaultValue:16,search:"perPage"})]}),x.length>0?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(H,{products:x}),!f&&Object(o.jsx)(te,{total:h?x.length:c.length,perPage:m,currentPage:l,onPageChange:function(e){d(e),window.scrollTo({top:0,behavior:"smooth"})}})]}):Object(o.jsx)(W,{name:"Product"})]})},ae=function(){var e=Object(j.useContext)(P).products.filter((function(e){return"smartphone"===e.type}));return Object(o.jsx)("div",{className:"container",children:e.length?Object(o.jsx)(se,{title:"Mobile phones",products:e}):Object(o.jsx)(W,{name:"Phones"})})},ne=(c(50),c(51),function(){return Object(o.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(o.jsx)("div",{className:"Loader__content"})})}),ie=function(){var e=Object(j.useContext)(P).products,t=Object(j.useState)(null),c=Object(b.a)(t,2),s=c[0],a=c[1],r=Object(j.useState)(1),d=Object(b.a)(r,2),h=d[0],O=d[1],p=Object(j.useState)(!1),_=Object(b.a)(p,2),v=_[0],x=_[1],g=Object(i.p)(),N=Object(i.n)(),w=function(e){var t=e.match(/(iphone-\d+|iPad-\d+.\d+)/g),c=e.match(/pro-max|pro|plus/g),s=e.match(/pacific-blue|graphite|gold|deep-purple|silver|space-black|space-gray|red/g),a=e.match(/128GB|256GB|512GB|1TB/g);return t&&c&&s&&a?{name:t[0],model:c[0],color:s[0],capacity:a[0]}:null}(g.productId),k=function(){var e=Object(u.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:return x(!0),e.prev=3,e.next=6,f(null===w||void 0===w?void 0:w.name,null===w||void 0===w?void 0:w.model);case 6:t=e.sent,a(t),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("Unable to load details!");case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),C=Object(j.useCallback)((function(e){return O(e)}),[h]);Object(j.useEffect)((function(){k()}),[g]);var A=Object(j.useMemo)((function(){return e.find((function(e){return e.id===g.productId}))}),[e]),S=e.filter((function(e){return e.age<=1})),B=A&&y(null===A||void 0===A?void 0:A.price,null===A||void 0===A?void 0:A.discount),T=Object(j.useCallback)((function(){return{Screen:"".concat(null===s||void 0===s?void 0:s.screen,'" OLED'),Resolution:null===s||void 0===s?void 0:s.resolution,Processor:null===s||void 0===s?void 0:s.processor,RAM:null===s||void 0===s?void 0:s.ram,"Built in memory":null===A||void 0===A?void 0:A.capacity,Camera:null===s||void 0===s?void 0:s.camera,Zoom:null===s||void 0===s?void 0:s.zoom,Cell:null===s||void 0===s?void 0:s.cell}}),[s,A])();return v?Object(o.jsx)(ne,{}):Object(o.jsx)("section",{className:"details",children:A&&w&&!v?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(I,{}),Object(o.jsx)("button",{type:"button",className:"details__back-btn",onClick:function(){return N(-1)},children:"Back"}),Object(o.jsx)("h1",{className:"details__title-head",children:null===A||void 0===A?void 0:A.name}),Object(o.jsxs)("div",{className:"details__wrapper details__wrapper--top",children:[Object(o.jsxs)("div",{className:"details__photos",children:[Object(o.jsx)("div",{className:"details__photos-sml",children:[1,2,3].map((function(e){return Object(o.jsx)("button",{type:"button",className:l()("details__photo-btn",{"details__photo-btn--active":e===h}),onClick:function(){return C(e)},children:Object(o.jsx)("img",{className:"details__img-sml",src:"./img/apple/".concat(null===w||void 0===w?void 0:w.name,"-").concat(null===w||void 0===w?void 0:w.model,"-").concat(null===w||void 0===w?void 0:w.color,"-").concat(e,".jpg"),alt:"phone"})},e)}))}),Object(o.jsx)("div",{className:"details__photo-l",children:Object(o.jsx)("img",{className:"details__img-l",src:"./img/apple/".concat(null===w||void 0===w?void 0:w.name,"-").concat(null===w||void 0===w?void 0:w.model,"-").concat(null===w||void 0===w?void 0:w.color,"-").concat(h,".jpg"),alt:"phone"})})]}),Object(o.jsx)("div",{className:"details__actions",children:Object(o.jsxs)("div",{className:"details__holder",children:[Object(o.jsx)("span",{className:"details__label",children:"Available colors"}),Object(o.jsx)("div",{className:"details__actions-links",children:null===s||void 0===s?void 0:s.colors.map((function(e){var t=e.color,c=e.hex;return Object(o.jsx)(n.b,{to:E(null===A||void 0===A?void 0:A.type,null===w||void 0===w?void 0:w.name,null===w||void 0===w?void 0:w.model,t,null===w||void 0===w?void 0:w.capacity),className:l()("details__color-link",{"details__color-link--active":(null===w||void 0===w?void 0:w.color)===t}),style:{backgroundColor:"".concat(c)}},c)}))}),Object(o.jsx)("span",{className:"details__label",children:"Select capacity"}),Object(o.jsx)("div",{className:"details__actions-links",children:null===s||void 0===s?void 0:s.capacity.map((function(e){return Object(o.jsx)(n.b,{to:E(null===A||void 0===A?void 0:A.type,null===w||void 0===w?void 0:w.name,null===w||void 0===w?void 0:w.model,null===w||void 0===w?void 0:w.color,e),className:l()("details__capacity-link",{"details__capacity-link--active":"".concat(e)===(null===w||void 0===w?void 0:w.capacity)}),children:"".concat(e)},e)}))}),null!==A&&void 0!==A&&A.discount?Object(o.jsxs)("div",{className:"details__price",children:["$".concat(B),Object(o.jsx)("span",{className:"details__price--sale",children:"$".concat(null===A||void 0===A?void 0:A.price)})]}):Object(o.jsx)("div",{className:"details__price",children:"$".concat(null===A||void 0===A?void 0:A.price)}),Object(o.jsx)("div",{className:"details__buttons",children:A&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(F,{height:"48px",product:A}),Object(o.jsx)(U,{size:"48px",product:A})]})}),Object(o.jsxs)("div",{className:"details__specs",children:[Object(o.jsxs)("div",{className:"details__specs-row",children:[Object(o.jsx)("span",{className:"details__specs-title",children:"Screen"}),Object(o.jsx)("span",{className:"details__specs-value",children:"".concat(null===s||void 0===s?void 0:s.screen,'" OLED')})]}),Object(o.jsxs)("div",{className:"details__specs-row",children:[Object(o.jsx)("span",{className:"details__specs-title",children:"Resolution"}),Object(o.jsx)("span",{className:"details__specs-value",children:null===s||void 0===s?void 0:s.resolution})]}),Object(o.jsxs)("div",{className:"details__specs-row",children:[Object(o.jsx)("span",{className:"details__specs-title",children:"Processor"}),Object(o.jsx)("span",{className:"details__specs-value",children:null===s||void 0===s?void 0:s.processor})]}),Object(o.jsxs)("div",{className:"details__specs-row",children:[Object(o.jsx)("span",{className:"details__specs-title",children:"RAM"}),Object(o.jsx)("span",{className:"details__specs-value",children:null===s||void 0===s?void 0:s.ram})]})]})]})})]}),Object(o.jsxs)("div",{className:"details__wrapper",children:[Object(o.jsxs)("div",{className:"details__block details__block-about",children:[Object(o.jsx)("h2",{className:"details__title-h2",children:"About"}),Object(o.jsxs)("div",{className:"details__feature-descp",children:[Object(o.jsx)("h3",{className:"details__title-h3",children:"And then there was Pro"}),Object(o.jsx)("p",{className:"details__text",children:"A transformative triple\u2011camera system that adds tons of capability without complexity. An unprecedented leap in battery life. And a mind\u2011blowing chip that doubles down on machine learning and pushes the boundaries of what a smartphone can do. Welcome to the first iPhone powerful enough to be called Pro."})]}),Object(o.jsxs)("div",{className:"details__feature-descp",children:[Object(o.jsx)("h3",{className:"details__title-h3",children:"Camera"}),Object(o.jsx)("p",{className:"details__text",children:"Meet the first triple\u2011camera system to combine cutting\u2011edge technology with the legendary simplicity of iPhone. Capture up to four times more scene. Get beautiful images in drastically lower light. Shoot the highest\u2011quality video in a smartphone \u2014 then edit with the same tools you love for photos. You\u2019ve never shot with anything like it."})]}),Object(o.jsxs)("div",{className:"details__feature-descp",children:[Object(o.jsx)("h3",{className:"details__title-h3",children:"Shoot it. Flip it. Zoom it. Crop it. Cut it. Light it. Tweak it. Love it."}),Object(o.jsx)("p",{className:"details__text",children:"iPhone 11 Pro lets you capture videos that are beautifully true to life, with greater detail and smoother motion. Epic processing power means it can shoot 4K video with extended dynamic range and cinematic video stabilization \u2014 all at 60 fps. You get more creative control, too, with four times more scene and powerful new editing tools to play with."})]})]}),Object(o.jsxs)("div",{className:"details__block-specs",children:[Object(o.jsx)("h2",{className:"details__title-h2",children:"Tech specs"}),Object(o.jsx)("div",{className:"details__specs",children:Object.keys(T).map((function(e){return Object(o.jsxs)("div",{className:"details__specs-row",children:[Object(o.jsx)("span",{className:"details__specs-title details__text",children:e}),Object(o.jsx)("span",{className:"details__specs-value details__text",children:T[e]})]})}))})]})]}),Object(o.jsx)(z,{sectionTitle:"You may also like",products:S})]}):Object(o.jsx)(W,{name:"Product"})})},re=(c(52),function(){var e=Object(j.useContext)(P).products.filter((function(e){return"tablet"===e.type}));return Object(o.jsx)("div",{className:"container",children:e.length>0?Object(o.jsx)(se,{title:"Tablets",products:e}):Object(o.jsx)(W,{name:"Tablets"})})}),le=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(W,{name:"Accessories"})})},oe=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(R,{}),Object(o.jsx)("main",{className:"page__main",children:Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{path:"/",element:Object(o.jsx)(Z,{})}),Object(o.jsx)(i.b,{path:"home",element:Object(o.jsx)(i.a,{to:"/",replace:!0})}),Object(o.jsxs)(i.b,{path:"phones",children:[Object(o.jsx)(i.b,{index:!0,element:Object(o.jsx)(ae,{})}),Object(o.jsx)(i.b,{path:":productId",element:Object(o.jsx)(ie,{})})]}),Object(o.jsxs)(i.b,{path:"tablets",children:[Object(o.jsx)(i.b,{index:!0,element:Object(o.jsx)(re,{})}),Object(o.jsx)(i.b,{path:":productId",element:Object(o.jsx)(ie,{})})]}),Object(o.jsxs)(i.b,{path:"accessories",children:[Object(o.jsx)(i.b,{index:!0,element:Object(o.jsx)(le,{})}),Object(o.jsx)(i.b,{path:":productId",element:Object(o.jsx)(ie,{})})]}),Object(o.jsx)(i.b,{path:"favorites",element:Object(o.jsx)($,{})}),Object(o.jsx)(i.b,{path:"cart",element:Object(o.jsx)(q,{})}),Object(o.jsx)(i.b,{path:"*",element:Object(o.jsx)(Q,{})})]})}),Object(o.jsx)(d,{})]})};c(53);a.a.render(Object(o.jsx)(n.a,{children:Object(o.jsx)(B,{children:Object(o.jsx)(oe,{})})}),document.getElementById("root"))}]),[[54,1,2]]]);
//# sourceMappingURL=main.a7b41cdf.chunk.js.map
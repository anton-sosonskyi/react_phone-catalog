{"version":3,"sources":["components/ToTopButton/ToTopButton.tsx","components/Footer/Footer.tsx","api/fetchClient.ts","enums/enums.ts","api/products.ts","helpers/helpers.ts","reducers/cartReducer.ts","reducers/favoriteReducer.ts","context/CatalogContext.tsx","components/Search/Search.tsx","components/Header/Header.tsx","components/Button/Button.tsx","components/CartItem/CartItem.tsx","components/CartList/CartList.tsx","components/Cart/Cart.tsx","pages/CartPage.tsx","components/BreadCrumbs/BreadCrumbs.tsx","components/AddToCartButton/AddToCartButton.tsx","components/FavouriteButton/FavouriteButton.tsx","components/ProductCard/ProductCard.tsx","components/ProductList/ProductList.tsx","components/NoResults/NoResults.tsx","pages/FavoritesPage.tsx","components/ProductBlock/ProductBlock.tsx","components/BrandNew/BrandNew.tsx","data/data.ts","components/SliderNav/SliderNav.tsx","components/Slider/Slider.tsx","components/HotPrices/HotPrices.tsx","components/ShopBy/ShopBy.tsx","pages/HomePage.tsx","pages/PageNotFound.tsx","components/SelectList/SelectList.tsx","components/CustomSelect/CustomSelect.tsx","hooks/useToggle.ts","components/PageList/PageList.tsx","components/Pagination/Pagination.tsx","components/ProductBrowse/ProductBrowse.tsx","pages/PhonesPage.tsx","components/Loader/Loader.tsx","components/DetailsAbout/DetailsAbout.tsx","components/DetailsPhotos/DetailsPhotos.tsx","components/DetailsSpecs/DetailsSpecs.tsx","pages/ProductDetailsPage.tsx","pages/TabletsPage.tsx","pages/AccessoriesPage.tsx","App.tsx","index.tsx"],"names":["ToTopButton","handleClick","useCallback","e","preventDefault","window","scrollTo","top","behavior","_jsx","type","className","onClick","children","Footer","_jsxs","Link","to","src","alt","NavLink","target","_ref","isActive","classNames","_ref2","_ref3","request","url","delay","Promise","resolve","setTimeout","then","fetch","response","ok","Error","json","CartAction","FavoritesAction","Sort","ItemsOnPage","client","getProductDetails","product","model","concat","getSalePrice","price","discount","Math","ceil","saveToLocalStorage","key","data","localStorage","setItem","JSON","stringify","getFromLocalStorage","getItem","parse","countProducts","products","reduce","total","curr","getGoodsLink","name","color","capacity","getNumbers","amount","pages","i","push","cartReducer","state","action","LOAD","storageData","_objectSpread","cart","INCREASE","updatedCart","map","item","id","payload","quantity","DECREASE","ADD","_toConsumableArray","REMOVE","filter","favoritesReducer","favorites","updatedFavorites","favorite","CatalogContext","createContext","dispatchCart","dispatchFavorites","CatalogProvider","_useState","useState","_useState2","_slicedToArray","setProducts","_useReducer","useReducer","_useReducer2","_useReducer3","_useReducer4","loadProducts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","sent","t0","stop","apply","arguments","useEffect","Provider","value","Search","query","setQuery","_useState3","_useState4","apliedQuery","setApliedQuery","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","location","useLocation","length","set","delete","applyQuery","func","timer","_len","args","Array","_key","clearTimeout","call","debounce","onChange","currentTarget","placeholder","pathname","slice","Header","_useContext","useContext","style","display","_ref4","Routes","Route","path","element","Button","width","height","handler","disabled","_defineProperty","CartItem","onIncrease","onDecrease","onRemove","imageUrl","CartList","_Fragment","Cart","navigate","useNavigate","isShow","setIsShow","totalCartPrice","useMemo","cartItemsTotal","CartPage","BreadCrumbs","split","p","toUpperCase","replaceAll","index","AddToCartButton","isAddedToCart","some","onCartAdd","finalPrice","FavouriteButton","size","isFavorite","imagePath","ProductCard","ram","screen","priceWithDiscount","ProductList","memo","NoResults","FavoritesPage","get","visibleItems","toLowerCase","includes","ProductBlock","sectionTitle","currIndex","setCurrIndex","wrapper","useRef","prevIndex","current","transform","nextIndex","ref","BrandNew","visibleProducts","age","sort","a","b","sliderImgs","title","SliderNav","currentIndex","onSlideChange","onKeyDown","Slider","slide","slideNext","slideWidth","clientWidth","clearInterval","photo","backgroundImage","HotPrices","productsWithDiscount","ShopBy","phoneCount","tabletCount","accessoriesCount","HomePage","PageNotFound","SelectList","options","onSelect","option","CustomSelect","defaultValue","search","_useToggle","undefined","setState","toggle","useToggle","_useToggle2","isOpen","setIsOpen","currentOption","setCurrentOption","onMouseLeave","sortParams","Newest","Alphabetically","Cheapest","Object","hasOwn","PageList","currentPage","onPageChange","page","classnames","Pagination","perPage","pageAmount","pageNumbers","handlePrevClick","handleNextClick","cn","ProductBrowse","setCurrentPage","sortParam","ALL","FOUR","EIGHT","SIXTEEN","getProductsOnPage","onPageSelect","lastItemIndex","firstItemIndex","currItems","sortOption","copy","NEWEST","ALPHABET","localeCompare","CHEAPEST","getSortedProducts","isNoPagination","pageNumber","PhonesPage","category","Loader","DetailsAbout","DetailsPhotos","productData","currentPhoto","onPhotoChange","photosIndexes","photoId","DetailsSpecs","specs","keys","extraClass","spec","ProductDetailsPage","details","setDetails","setCurrentPhoto","_useState5","_useState6","isLoading","setIsLoading","params","useParams","urlPart","match","getUrlData","productId","loadDetails","loadedData","abrupt","finish","find","Screen","Resolution","resolution","Processor","processor","RAM","Camera","camera","Zoom","zoom","Cell","cell","getProductSpecs","specsPreview","colors","hex","backgroundColor","cap","TabletsPage","tablet","AccessoriesPage","App","Navigate","replace","ReactDOM","render","HashRouter","document","getElementById"],"mappings":"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","file":"static/js/main.683c5375.chunk.js","sourcesContent":["import { useCallback } from 'react';\n\nexport const ToTopButton = () => {\n  const handleClick = useCallback((\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  ) => {\n    e.preventDefault();\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }, []);\n\n  return (\n    <button\n      type=\"button\"\n      className=\"footer__backToTop icon\"\n      onClick={handleClick}\n    >\n      Back to top\n    </button>\n  );\n};\n","import classNames from 'classnames';\nimport { Link, NavLink } from 'react-router-dom';\nimport './footer.scss';\nimport { ToTopButton } from '../ToTopButton';\n\nexport const Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"container\">\n        <div className=\"footer__content\">\n          <Link to=\"/\">\n            <img src=\"./logo.svg\" alt=\"logo\" />\n          </Link>\n\n          <nav className=\"footer__nav nav\">\n            <ul className=\"nav__list\">\n              <li className=\"nav__item\">\n                <NavLink\n                  to=\"https://github.com/\"\n                  target=\"_blank\"\n                  className={({ isActive }) => classNames(\n                    'nav__link',\n                    { 'nav__link--active': isActive },\n                  )}\n                >\n                  Github\n                </NavLink>\n              </li>\n              <li className=\"nav__item\">\n                <NavLink\n                  to=\"https://github.com/\"\n                  target=\"_blank\"\n                  className={({ isActive }) => classNames(\n                    'nav__link',\n                    { 'nav__link--active': isActive },\n                  )}\n                >\n                  Contacts\n                </NavLink>\n              </li>\n              <li className=\"nav__item\">\n                <NavLink\n                  to=\"https://github.com/\"\n                  target=\"_blank\"\n                  className={({ isActive }) => classNames(\n                    'nav__link',\n                    { 'nav__link--active': isActive },\n                  )}\n                >\n                  Rights\n                </NavLink>\n              </li>\n            </ul>\n          </nav>\n\n          <ToTopButton />\n        </div>\n      </div>\n    </footer>\n  );\n};\n","// eslint-disable-next-line\nconst BASE_URL = './api';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction request<T>(\n  url: string,\n): Promise<T> {\n  return wait(300)\n    .then(() => fetch(BASE_URL + url))\n    .then(response => {\n      if (!response.ok) {\n        throw new Error();\n      }\n\n      return response.json();\n    });\n}\n\nexport const client = {\n  get: <T>(url: string) => request<T>(url),\n};\n","export enum CartAction {\n  LOAD = 'load',\n  ADD = 'add',\n  INCREASE = 'increase',\n  DECREASE = 'decrease',\n  REMOVE = 'remove',\n}\n\nexport enum FavoritesAction {\n  LOAD = 'load',\n  ADD = 'add',\n  REMOVE = 'remove',\n}\n\nexport enum Sort {\n  NEWEST = 'age',\n  ALPHABET = 'name',\n  CHEAPEST = 'price',\n}\n\nexport enum ItemsOnPage {\n  ALL = 'All',\n  FOUR = '4',\n  EIGHT = '8',\n  SIXTEEN = '16',\n}\n","import { Product } from '../types/Product';\nimport { ProductDetails } from '../types/ProductDetails';\nimport { client } from './fetchClient';\n\nexport const getAllProducts = () => {\n  const url = '/products.json';\n\n  return client.get<Product[]>(url);\n};\n\nexport const getProductDetails = (product: string, model: string) => {\n  return client.get<ProductDetails>(`/products/${product}-${model}.json`);\n};\n","import { Product } from '../types/Product';\n\nexport const getUrlData = (urlPart: string) => {\n  const name = urlPart.match(/(iphone-\\d+|iPad-\\d+.\\d+)/g);\n  const model = urlPart.match(/pro-max|pro|plus/g);\n  const color = urlPart.match(\n    /pacific-blue|graphite|gold|deep-purple|silver|space-black|space-gray|red/g,\n  );\n  const capacity = urlPart.match(/128GB|256GB|512GB|1TB/g);\n\n  if (name && model && color && capacity) {\n    return {\n      name: name[0],\n      model: model[0],\n      color: color[0],\n      capacity: capacity[0],\n    };\n  }\n\n  return null;\n};\n\nexport const getSalePrice = (price: number, discount: number) => {\n  return Math.ceil(price - ((price * discount) / 100));\n};\n\nexport function saveToLocalStorage<T>(key: string, data: T) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function getFromLocalStorage(key: string) {\n  const data = localStorage.getItem(key);\n\n  return data ? JSON.parse(data) : [];\n}\n\nexport function debounce<T extends unknown[]>(\n  func: (...args: T) => void,\n  delay: number,\n):\n  (...args: T) => void {\n  let timer: ReturnType<typeof setTimeout>;\n\n  return (...args: T) => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = setTimeout(() => {\n      func.call(null, ...args);\n    }, delay);\n  };\n}\n\nexport function countProducts(type: string, products: Product[]) {\n  return products.reduce((total, curr) => {\n    if (curr.type === type) {\n      return total + 1;\n    }\n\n    return total;\n  }, 0);\n}\n\nexport function getGoodsLink(\n  type: string,\n  name: string,\n  model: string,\n  color: string,\n  capacity: string,\n): string {\n  const productType = type === 'tablet' ? 'tablets' : 'phones';\n\n  return `/${productType}/${name}-${model}-${color}-${capacity}`;\n}\n\nexport function getNumbers(amount: number) {\n  const pages = [];\n\n  for (let i = 1; i <= amount; i += 1) {\n    pages.push(i);\n  }\n\n  return pages;\n}\n","import { CartAction } from '../enums/enums';\nimport { getFromLocalStorage, saveToLocalStorage } from '../helpers/helpers';\nimport { CartItemType } from '../types/CartItemType';\n\nexport type CartActionType =\n  | { type: CartAction.ADD; payload: CartItemType }\n  | { type: CartAction.LOAD }\n  | { type: CartAction.INCREASE; payload: string }\n  | { type: CartAction.DECREASE; payload: string }\n  | { type: CartAction.REMOVE; payload: string };\n\nexport type State = {\n  cart: CartItemType[];\n};\n\nexport const cartReducer = (\n  state: State,\n  action: CartActionType,\n): State => {\n  switch (action.type) {\n    case CartAction.LOAD: {\n      const storageData = getFromLocalStorage('cart');\n\n      return { ...state, cart: storageData };\n    }\n\n    case CartAction.INCREASE: {\n      const updatedCart = state.cart.map(item => {\n        if (item.id === action.payload) {\n          return {\n            ...item,\n            quantity: item.quantity + 1,\n          };\n        }\n\n        return item;\n      });\n\n      saveToLocalStorage('cart', updatedCart);\n\n      return { ...state, cart: updatedCart };\n    }\n\n    case CartAction.DECREASE: {\n      const updatedCart = state.cart.map(item => {\n        if (item.id === action.payload) {\n          return {\n            ...item,\n            quantity: item.quantity - 1,\n          };\n        }\n\n        return item;\n      });\n\n      saveToLocalStorage('cart', updatedCart);\n\n      return { ...state, cart: updatedCart };\n    }\n\n    case CartAction.ADD: {\n      const updatedCart = [...state.cart, action.payload];\n\n      saveToLocalStorage('cart', updatedCart);\n\n      return { ...state, cart: updatedCart };\n    }\n\n    case CartAction.REMOVE: {\n      const updatedCart = state.cart\n        .filter((item) => item.id !== action.payload);\n\n      saveToLocalStorage('cart', updatedCart);\n\n      return { ...state, cart: updatedCart };\n    }\n\n    default:\n      throw new Error('Uknown action');\n  }\n};\n","import { FavoritesAction } from '../enums/enums';\nimport { getFromLocalStorage, saveToLocalStorage } from '../helpers/helpers';\nimport { Product } from '../types/Product';\n\nexport type FavoritesActionType =\n  | { type: FavoritesAction.ADD; payload: Product }\n  | { type: FavoritesAction.LOAD }\n  | { type: FavoritesAction.REMOVE; payload: string };\n\nexport type State = {\n  favorites: Product[],\n};\n\nexport const favoritesReducer = (\n  state: State,\n  action: FavoritesActionType,\n): State => {\n  switch (action.type) {\n    case FavoritesAction.LOAD: {\n      const products = getFromLocalStorage('favorites');\n\n      return { ...state, favorites: products };\n    }\n\n    case FavoritesAction.ADD: {\n      const updatedFavorites = [...state.favorites, action.payload];\n\n      saveToLocalStorage('favorites', updatedFavorites);\n\n      return { ...state, favorites: updatedFavorites };\n    }\n\n    case FavoritesAction.REMOVE: {\n      const updatedFavorites = state.favorites\n        .filter((favorite) => favorite.id !== action.payload);\n\n      saveToLocalStorage('favorites', updatedFavorites);\n\n      return { ...state, favorites: updatedFavorites };\n    }\n\n    default:\n      throw new Error('Uknown action');\n  }\n};\n","import {\n  createContext,\n  Dispatch,\n  useEffect,\n  useReducer,\n  useState,\n} from 'react';\nimport { getAllProducts } from '../api/products';\nimport { CartAction, FavoritesAction } from '../enums/enums';\nimport { CartActionType, cartReducer } from '../reducers/cartReducer';\nimport {\n  FavoritesActionType,\n  favoritesReducer,\n} from '../reducers/favoriteReducer';\nimport { CartItemType } from '../types/CartItemType';\n\nimport { Product } from '../types/Product';\n\nexport const CatalogContext = createContext<{\n  products: Product[],\n  favorites: Product[],\n  cart: CartItemType[],\n  dispatchCart: Dispatch<CartActionType>;\n  dispatchFavorites: Dispatch<FavoritesActionType>;\n}>({\n  products: [],\n  favorites: [],\n  cart: [],\n  dispatchCart: () => null,\n  dispatchFavorites: () => null,\n});\n\ninterface CatalogProviderProps {\n  children: JSX.Element | JSX.Element[];\n}\n\nexport const CatalogProvider = ({ children }: CatalogProviderProps) => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [{ favorites }, dispatchFavorites] = useReducer(favoritesReducer,\n    { favorites: [] });\n  const [{ cart }, dispatchCart] = useReducer(cartReducer, { cart: [] });\n\n  const loadProducts = async () => {\n    try {\n      const data = await getAllProducts();\n\n      setProducts(data);\n    } catch {\n      throw new Error('Unable to load products!');\n    }\n  };\n\n  const loadReducers = () => {\n    dispatchCart({ type: CartAction.LOAD });\n    dispatchFavorites({ type: FavoritesAction.LOAD });\n  };\n\n  useEffect(() => {\n    loadProducts();\n    loadReducers();\n  }, []);\n\n  return (\n    <CatalogContext.Provider value={{\n      products,\n      favorites,\n      cart,\n      dispatchFavorites,\n      dispatchCart,\n    }}\n    >\n      {children}\n    </CatalogContext.Provider>\n  );\n};\n","import { useLocation } from 'react-router';\nimport './search.scss';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { debounce } from '../../helpers/helpers';\n\nexport const Search = () => {\n  const [query, setQuery] = useState('');\n  const [apliedQuery, setApliedQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!query.length) {\n      searchParams.delete('query');\n      setApliedQuery('');\n    } else {\n      searchParams.set('query', apliedQuery);\n    }\n\n    setSearchParams(searchParams);\n  }, [apliedQuery, query]);\n\n  const applyQuery = useCallback(debounce(setApliedQuery, 500), []);\n\n  return (\n    <div className=\"search__container\">\n      <input\n        type=\"search\"\n        name=\"query\"\n        className=\"search\"\n        value={query}\n        onChange={(e) => {\n          setQuery(e.currentTarget.value);\n          applyQuery(e.currentTarget.value);\n        }}\n        placeholder={`Search in ${location.pathname.slice(1)}...`}\n      />\n      {query.length > 0 ? (\n        <button\n          type=\"button\"\n          onClick={() => setQuery('')}\n        >\n          <img\n            className=\"search__img\"\n            src=\"./img/icons/Close.svg\"\n            alt=\"close\"\n          />\n        </button>\n      ) : (\n        <img\n          className=\"search__img\"\n          src=\"./img/icons/Search.svg\"\n          alt=\"search\"\n        />\n      )}\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport { useContext } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n} from 'react-router-dom';\nimport { CatalogContext } from '../../context';\nimport { Search } from '../Search';\nimport './header.scss';\n\nexport const Header = () => {\n  const { favorites, cart } = useContext(CatalogContext);\n  const { pathname } = useLocation();\n\n  return (\n    <header className=\"header\" id=\"header\">\n      <Link to=\"/\">\n        <img src=\"./logo.svg\" alt=\"logo\" />\n      </Link>\n\n      <nav\n        className=\"header__nav nav\"\n        style={{ display: pathname === '/cart' ? 'none' : 'block' }}\n      >\n        <ul className=\"nav__list\">\n          <li className=\"nav__item\">\n            <NavLink\n              to=\"/home\"\n              className={({ isActive }) => classNames(\n                'nav__link',\n                { 'nav__link--active': isActive },\n              )}\n            >\n              Home\n            </NavLink>\n          </li>\n          <li className=\"nav__item\">\n            <NavLink\n              to=\"/phones\"\n              className={({ isActive }) => classNames(\n                'nav__link',\n                { 'nav__link--active': isActive },\n              )}\n            >\n              Phones\n            </NavLink>\n          </li>\n          <li className=\"nav__item\">\n            <NavLink\n              to=\"/tablets\"\n              className={({ isActive }) => classNames(\n                'nav__link',\n                { 'nav__link--active': isActive },\n              )}\n            >\n              Tablets\n            </NavLink>\n          </li>\n          <li className=\"nav__item\">\n            <NavLink\n              to=\"/accessories\"\n              className={({ isActive }) => classNames(\n                'nav__link',\n                { 'nav__link--active': isActive },\n              )}\n            >\n              Accessories\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n\n      <Routes>\n        <Route path=\"/favorites\" element={<Search />} />\n        <Route path=\"/phones\" element={<Search />} />\n        <Route path=\"/tablets\" element={<Search />} />\n        <Route path=\"/accessories\" element={<Search />} />\n      </Routes>\n\n      <Link\n        className={classNames(\n          'header__icon',\n          { 'icon__favor--items': !!favorites.length },\n        )}\n        to=\"/favorites\"\n        style={{ display: pathname === '/cart' ? 'none' : 'flex' }}\n      >\n        <img\n          className=\"header__img\"\n          src=\"./img/icons/favourites.svg\"\n          alt=\"favourites\"\n        />\n\n        {!!favorites.length && (\n          <span className=\"header__countLabel\">{favorites.length}</span>\n        )}\n      </Link>\n\n      <Link className=\"header__icon\" to=\"/cart\">\n        <img src=\"./img/icons/cart.svg\" alt=\"cart\" />\n\n        {!!cart.length && (\n          <span className=\"header__countLabel\">{cart.length}</span>\n        )}\n      </Link>\n    </header>\n  );\n};\n","import classNames from 'classnames';\nimport './button.scss';\n\ntype Props = {\n  width: string;\n  height: string;\n  disabled?: boolean;\n  handler?: () => void;\n  type?: string;\n};\n\nexport const Button: React.FC<Props> = ({\n  children,\n  width,\n  height,\n  handler,\n  type,\n  disabled,\n}) => {\n  return (\n    <button\n      type=\"button\"\n      className={classNames(\n        'button',\n        { [type as string]: type !== '' },\n      )}\n      disabled={disabled}\n      style={{ width: `${width}`, height: `${height}` }}\n      onClick={handler}\n    >\n      {children}\n    </button>\n  );\n};\n","import { useCallback, useContext } from 'react';\nimport { CatalogContext } from '../../context';\nimport { CartAction } from '../../enums/enums';\nimport { CartItemType } from '../../types/CartItemType';\nimport { Button } from '../Button';\nimport './cart-item.scss';\n\ntype Props = {\n  item: CartItemType;\n};\n\nexport const CartItem: React.FC<Props> = ({ item }) => {\n  const { dispatchCart } = useContext(CatalogContext);\n\n  const onIncrease = useCallback(() => {\n    dispatchCart({ type: CartAction.INCREASE, payload: item.id });\n  }, [item]);\n\n  const onDecrease = useCallback(() => {\n    if (item.quantity === 1) {\n      return;\n    }\n\n    dispatchCart({ type: CartAction.DECREASE, payload: item.id });\n  }, [item]);\n\n  const onRemove = useCallback(() => {\n    dispatchCart({ type: CartAction.REMOVE, payload: item.id });\n  }, [item]);\n\n  return (\n    <div className=\"cart-item\">\n      <Button\n        width=\"10px\"\n        height=\"10px\"\n        type=\"button--close\"\n        handler={onRemove}\n      >\n        <img src=\"./img/icons/Close.svg\" alt=\"Remove\" />\n      </Button>\n\n      <img className=\"cart-item__img\" src={item.imageUrl} alt=\"item\" />\n      <p className=\"cart-item__name\">\n        {item.product}\n      </p>\n\n      <div className=\"cart-item__buttons\">\n        <Button\n          width=\"32px\"\n          height=\"32px\"\n          disabled={item.quantity === 1}\n          handler={onDecrease}\n        >\n          <img src=\"./img/icons/Minus.svg\" alt=\"decrease\" />\n        </Button>\n\n        <span className=\"cart-item__count\">\n          {item.quantity}\n        </span>\n\n        <Button\n          width=\"32px\"\n          height=\"32px\"\n          handler={onIncrease}\n        >\n          <img src=\"./img/icons/Plus.svg\" alt=\"increase\" />\n        </Button>\n      </div>\n\n      <h2 className=\"cart-item__price\">\n        {`$${item.price * item.quantity}`}\n      </h2>\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { CatalogContext } from '../../context';\nimport { CartItem } from '../CartItem';\n\nexport const CartList = () => {\n  const { cart } = useContext(CatalogContext);\n\n  return (\n    <>\n      {!cart.length ? (\n        <h2 className=\"cart__empty\">Your cart is empty</h2>\n      ) : (\n        <div className=\"cart__items\">\n          {cart.map(item => (\n            <CartItem key={item.id} item={item} />\n          ))}\n        </div>\n      )}\n    </>\n  );\n};\n","import {\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { useNavigate } from 'react-router';\nimport { CatalogContext } from '../../context';\nimport { CartList } from '../CartList';\nimport { Button } from '../Button';\nimport './cart.scss';\n\nexport const Cart = () => {\n  const navigate = useNavigate();\n  const [isShow, setIsShow] = useState(false);\n  const { cart } = useContext(CatalogContext);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsShow(false);\n    }, 2000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [isShow]);\n\n  const totalCartPrice = useMemo(\n    () => cart\n      .reduce((total, curr) => total + (curr.quantity * curr.price), 0), [cart],\n  );\n  const cartItemsTotal = useMemo(\n    () => cart.reduce((total, curr) => total + curr.quantity, 0), [cart],\n  );\n\n  return (\n    <div className=\"container\">\n      <div className=\"cart\">\n        <button\n          type=\"button\"\n          className=\"cart__back-btn\"\n          onClick={() => navigate(-1)}\n        >\n          Back\n        </button>\n\n        <h1 className=\"cart__title\">\n          Cart\n        </h1>\n\n        <div className=\"cart__content\">\n          <div className=\"cart__items-block\">\n            <CartList />\n          </div>\n\n          <div className=\"cart__total-block\">\n            <h1 className=\"cart__amount\">\n              {`$${totalCartPrice}`}\n            </h1>\n\n            <span className=\"cart__items-count\">\n              {`Total for ${cartItemsTotal} items`}\n            </span>\n\n            <div className=\"cart__line\" />\n\n            <Button\n              width=\"100%\"\n              height=\"48px\"\n              type=\"button__action\"\n              handler={() => setIsShow(true)}\n            >\n              Checkout\n            </Button>\n\n            {isShow && (\n              <div className=\"cart__message\">\n                We are sorry, but this feature is not implemented yet\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { Cart } from '../components/Cart';\n\nexport const CartPage = () => {\n  return (\n    <Cart />\n  );\n};\n","import { Link, useLocation } from 'react-router-dom';\nimport './crumbs.scss';\n\nexport const BreadCrumbs = () => {\n  const location = useLocation();\n  const path = location.pathname\n    .split('/')\n    .slice(1)\n    .map(p => p[0].toUpperCase().concat(p.slice(1)).replaceAll(/-/g, ' '));\n\n  return (\n    <div className=\"crumbs\" data-cy=\"breadCrumbs\">\n      <ul className=\"crumbs__list\">\n        <li className=\"crumbs__item\">\n          <Link to=\"/\">\n            <img src=\"./img/icons/Home.svg\" alt=\"Home\" />\n          </Link>\n        </li>\n\n        {path.map((p, index) => (\n          <li key={p} className=\"crumbs__item\">\n            <img src=\"./img/icons/arrowRight.svg\" alt=\"arrow\" />\n            {\n              path[index] === path[path.length - 1]\n                ? <span className=\"crumbs__path\">{p}</span>\n                : <Link className=\"crumbs__link\" to={`/${p}`}>{p}</Link>\n            }\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import { useCallback, useContext, useMemo } from 'react';\nimport classNames from 'classnames';\nimport { CatalogContext } from '../../context';\nimport { CartAction } from '../../enums/enums';\nimport { getSalePrice } from '../../helpers/helpers';\nimport { Product } from '../../types/Product';\nimport { Button } from '../Button';\n\ntype Props = {\n  height: string;\n  product: Product;\n};\n\nexport const AddToCartButton: React.FC<Props> = ({ height, product }) => {\n  const { cart, dispatchCart } = useContext(CatalogContext);\n  const isAddedToCart = useMemo(\n    () => cart.some(item => item.id === product.id), [cart, product.id],\n  );\n  const onCartAdd = useCallback(({\n    id,\n    imageUrl,\n    name,\n    price,\n    discount,\n  }: Product) => {\n    const finalPrice = getSalePrice(price, discount);\n\n    if (isAddedToCart) {\n      dispatchCart({ type: CartAction.REMOVE, payload: id });\n\n      return;\n    }\n\n    const item = {\n      id,\n      imageUrl,\n      quantity: 1,\n      product: name,\n      price: finalPrice,\n    };\n\n    dispatchCart({ type: CartAction.ADD, payload: item });\n  }, [cart]);\n\n  return (\n    <Button\n      width=\"100%\"\n      height={`${height}`}\n      handler={() => onCartAdd(product)}\n      type={classNames(\n        'button__action',\n        { 'button__action--active': isAddedToCart },\n      )}\n    >\n      {isAddedToCart ? 'Added to cart' : 'Add to cart'}\n    </Button>\n  );\n};\n","import React, { useContext, useMemo } from 'react';\nimport { CatalogContext } from '../../context';\nimport { FavoritesAction } from '../../enums/enums';\nimport { Product } from '../../types/Product';\nimport { Button } from '../Button';\n\ntype Props = {\n  size: string;\n  product: Product;\n};\n\nexport const FavouriteButton: React.FC<Props> = ({ size, product }) => {\n  const { favorites, dispatchFavorites } = useContext(CatalogContext);\n\n  const isFavorite = favorites.some(item => item.id === product.id);\n  const onFavoriteClick = () => (\n    isFavorite\n      ? dispatchFavorites({ type: FavoritesAction.REMOVE, payload: product.id })\n      : dispatchFavorites({ type: FavoritesAction.ADD, payload: product })\n  );\n  const imagePath = useMemo(() => (\n    isFavorite\n      ? './img/icons/favouritesFilled.svg'\n      : './img/icons/favourites.svg'\n  ), [isFavorite]);\n\n  return (\n    <Button\n      height={size}\n      width={size}\n      handler={onFavoriteClick}\n      type=\"button--favour\"\n    >\n      <img src={imagePath} alt=\"favourites\" />\n    </Button>\n  );\n};\n","import { Link } from 'react-router-dom';\nimport { getSalePrice } from '../../helpers/helpers';\nimport { Product } from '../../types/Product';\nimport { AddToCartButton } from '../AddToCartButton/AddToCartButton';\nimport { FavouriteButton } from '../FavouriteButton/FavouriteButton';\nimport './card.scss';\n\ntype Props = {\n  product: Product;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    id,\n    name,\n    price,\n    ram,\n    screen,\n    capacity,\n    imageUrl,\n    discount,\n    type,\n  } = product;\n\n  const priceWithDiscount = getSalePrice(price, discount);\n\n  return (\n    <div className=\"card\">\n      <Link\n        to={`/${type === 'tablet' ? 'tablets' : 'phones'}/${id}`}\n        className=\"card__link\"\n      >\n        <img className=\"card__img\" src={imageUrl} alt=\"card\" />\n        <h3 className=\"card__title\">\n          {name}\n        </h3>\n      </Link>\n\n      <div className=\"card__price\">\n        {`$${discount ? priceWithDiscount : price}`}\n\n        {!!discount && (\n          <span className=\"card__price--sale\">\n            {`$${price}`}\n          </span>\n        )}\n      </div>\n      <div className=\"card__line\" />\n      <div className=\"card__characteristics\">\n        <div className=\"card__characteristics-row\">\n          <span className=\"card__characteristics-title\">\n            Screen\n          </span>\n          <span className=\"card__characteristics-value\">\n            {screen}\n          </span>\n        </div>\n\n        <div className=\"card__characteristics-row\">\n          <span className=\"card__characteristics-title\">\n            Capacity\n          </span>\n\n          <span className=\"card__characteristics-value\">\n            {capacity}\n          </span>\n        </div>\n\n        <div className=\"card__characteristics-row\">\n          <span className=\"card__characteristics-title\">\n            RAM\n          </span>\n          <span className=\"card__characteristics-value\">\n            {ram}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"card__buttons\">\n        <AddToCartButton height=\"40px\" product={product} />\n\n        <FavouriteButton size=\"40px\" product={product} />\n      </div>\n    </div>\n  );\n};\n","import { memo } from 'react';\nimport { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard';\nimport './products.scss';\n\ntype Props = {\n  products: Product[];\n};\n\nexport const ProductList: React.FC<Props> = memo(({ products }) => {\n  return (\n    <div className=\"products\" data-cy=\"productList\">\n      {products.map(product => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n});\n","import './result.scss';\n\ntype Props = {\n  name: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ name }) => {\n  return (\n    <section className=\"result\">\n      <h1 className=\"result__title\">{`${name} not found`}</h1>\n    </section>\n  );\n};\n","import { useContext } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { BreadCrumbs } from '../components/BreadCrumbs';\nimport { ProductList } from '../components/ProductList';\nimport { CatalogContext } from '../context';\nimport '../styles/favorites.scss';\nimport { NoResults } from '../components/NoResults/NoResults';\n\nexport const FavoritesPage = () => {\n  const { favorites } = useContext(CatalogContext);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n  const visibleItems = favorites\n    .filter(item => item.name.toLowerCase().includes(query.toLowerCase()));\n\n  return (\n    <section className=\"favorites\">\n      <div className=\"container\">\n        <BreadCrumbs />\n        <h1 className=\"favorites__title\">\n          Favourites\n        </h1>\n        <div className=\"favorites__count\">\n          {query ? `${visibleItems.length} results` : `${favorites.length} items`}\n        </div>\n\n        {visibleItems.length > 0 ? (\n          <ProductList products={visibleItems} />\n        ) : (\n          <NoResults name=\"Product\" />\n        )}\n      </div>\n    </section>\n  );\n};\n","import { useState, useRef } from 'react';\nimport { Product } from '../../types/Product';\nimport { Button } from '../Button';\nimport { ProductCard } from '../ProductCard';\nimport './block.scss';\n\ntype Props = {\n  sectionTitle: string;\n  products: Product[];\n};\n\nexport const ProductBlock: React.FC<Props> = ({ sectionTitle, products }) => {\n  const [currIndex, setCurrIndex] = useState(0);\n  const wrapper = useRef<HTMLDivElement>(null);\n  const slideStep = 288;\n\n  const slideNext = () => {\n    if (currIndex === products.length - 4) {\n      return;\n    }\n\n    const nextIndex = (currIndex + 1) % (products.length - 3);\n\n    setCurrIndex(nextIndex);\n\n    if (wrapper.current) {\n      wrapper.current.style.transform = `translateX(-${nextIndex * slideStep}px)`;\n    }\n  };\n\n  const slidePrev = () => {\n    if (currIndex === 0) {\n      return;\n    }\n\n    const prevIndex = (currIndex - 1 + products.length) % (products.length);\n\n    setCurrIndex(prevIndex);\n\n    if (wrapper.current) {\n      wrapper.current.style.transform = `translateX(-${prevIndex * slideStep}px)`;\n    }\n  };\n\n  return (\n    <div className=\"block\">\n      <div className=\"block__header\">\n        <h2 className=\"block__title\">\n          {sectionTitle}\n        </h2>\n\n        <div className=\"block__buttons\">\n          <Button\n            width=\"32px\"\n            height=\"32px\"\n            handler={slidePrev}\n            disabled={currIndex === 0}\n          >\n            <img src=\"./img/icons/arrowLeft.svg\" alt=\"prev\" />\n          </Button>\n\n          <Button\n            width=\"32px\"\n            height=\"32px\"\n            handler={slideNext}\n            disabled={currIndex === products.length - 4}\n          >\n            <img src=\"./img/icons/arrowRight.svg\" alt=\"next\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"block__wrapper\">\n        <div\n          data-cy=\"cardsContainer\"\n          ref={wrapper}\n          className=\"block__cards\"\n        >\n          {products.map(product => (\n            <ProductCard key={product.id} product={product} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useContext, useMemo } from 'react';\nimport { ProductBlock } from '../ProductBlock';\nimport { CatalogContext } from '../../context';\n\nexport const BrandNew = () => {\n  const { products } = useContext(CatalogContext);\n\n  const visibleProducts = useMemo(() => products\n    .filter(product => product.age <= 1 && product.discount === 0)\n    .sort((a, b) => b.price - a.price), [products]);\n\n  return (\n    <section className=\"page__section brandNew\">\n      <div className=\"container\">\n        <ProductBlock\n          sectionTitle=\"Brand new models\"\n          products={visibleProducts}\n        />\n      </div>\n    </section>\n  );\n};\n","export const sliderImgs = [\n  {\n    id: 1,\n    title: 'Photo One',\n    url: './img/slider-img/banner.png',\n  },\n  {\n    id: 2,\n    title: 'Photo Two',\n    url: './img/slider-img/banner-2.jpg',\n  },\n  {\n    id: 3,\n    title: 'Photo Three',\n    url: './img/slider-img/banner-3.jpg',\n  },\n];\n","import classNames from 'classnames';\nimport { sliderImgs } from '../../data/data';\n\ntype Props = {\n  currentIndex: number;\n  onSlideChange: React.Dispatch<React.SetStateAction<number>>;\n};\n\nexport const SliderNav: React.FC<Props> = ({ currentIndex, onSlideChange }) => {\n  return (\n    <div className=\"slider__navigation\">\n      {sliderImgs.map((item, index) => (\n        <div\n          aria-hidden=\"true\"\n          key={item.id}\n          className={classNames(\n            'slider__dot',\n            { 'slider__dot--active': sliderImgs[currentIndex].id === item.id },\n          )}\n          onClick={() => onSlideChange(index)}\n          onKeyDown={() => onSlideChange(index)}\n        />\n      ))}\n    </div>\n  );\n};\n","import { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport './slider.scss';\nimport { sliderImgs } from '../../data/data';\nimport { Button } from '../Button';\nimport { SliderNav } from '../SliderNav/SliderNav';\n\nexport const Slider = () => {\n  const [currIndex, setCurrIndex] = useState(0);\n  const wrapper = useRef<HTMLDivElement>(null);\n  const slide = useRef<HTMLDivElement>(null);\n\n  const slideNext = () => {\n    const nextIndex = (currIndex + 1) % sliderImgs.length;\n\n    setCurrIndex(nextIndex);\n\n    if (wrapper.current && slide.current) {\n      const slideWidth = slide.current.clientWidth;\n\n      wrapper.current.style.transform = `translateX(-${nextIndex * slideWidth}px)`;\n    }\n  };\n\n  const slidePrev = () => {\n    const prevIndex = (currIndex - 1 + sliderImgs.length) % sliderImgs.length;\n\n    setCurrIndex(prevIndex);\n\n    if (wrapper.current && slide.current) {\n      const slideWidth = slide.current.clientWidth;\n\n      wrapper.current.style.transform = `translateX(-${prevIndex * slideWidth}px)`;\n    }\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(slideNext, 5000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [currIndex]);\n\n  return (\n    <div className=\"slider\">\n      <Button\n        width=\"32px\"\n        height=\"\"\n        handler={slidePrev}\n      >\n        <img src=\"./img/icons/arrowLeft.svg\" alt=\"prev\" />\n\n      </Button>\n\n      <div className=\"slider__content\">\n        <div ref={wrapper} className=\"slider__wrapper\">\n          {sliderImgs.map((photo, index) => (\n            <div\n              ref={slide}\n              key={photo.id}\n              className={classNames(\n                'slider__slide',\n                { 'slider__slide--active': index === currIndex },\n              )}\n              style={{ backgroundImage: `url(${photo.url})` }}\n            />\n          ))}\n        </div>\n      </div>\n\n      <Button\n        width=\"32px\"\n        height=\"\"\n        handler={slideNext}\n      >\n        <img src=\"./img/icons/arrowRight.svg\" alt=\"next\" />\n\n      </Button>\n\n      <SliderNav\n        currentIndex={currIndex}\n        onSlideChange={setCurrIndex}\n      />\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport { ProductBlock } from '../ProductBlock';\nimport { Slider } from '../Slider';\nimport { CatalogContext } from '../../context';\nimport { getSalePrice } from '../../helpers/helpers';\n\nexport const HotPrices: React.FC = () => {\n  const { products } = useContext(CatalogContext);\n  const productsWithDiscount = products\n    .filter(product => product.discount > 0)\n    .sort((a, b) => {\n      const priceA = getSalePrice(a.price, a.discount);\n      const priceB = getSalePrice(b.price, b.discount);\n\n      return priceA - priceB;\n    });\n\n  return (\n    <section className=\"page__section hot-prices\">\n      <div className=\"container\">\n        <Slider />\n        <ProductBlock\n          sectionTitle=\"Hot prices\"\n          products={productsWithDiscount}\n        />\n      </div>\n    </section>\n  );\n};\n","import { Link } from 'react-router-dom';\nimport './shopBy.scss';\nimport { useContext, useMemo } from 'react';\nimport { CatalogContext } from '../../context';\nimport { countProducts } from '../../helpers/helpers';\n\nexport const ShopBy = () => {\n  const { products } = useContext(CatalogContext);\n  const phoneCount = useMemo(() => (\n    countProducts('smartphone', products)\n  ), [products]);\n\n  const tabletCount = useMemo(() => (\n    countProducts('tablet', products)\n  ), [products]);\n\n  const accessoriesCount = useMemo(() => (\n    countProducts('accessories', products)\n  ), [products]);\n\n  return (\n    <section className=\"page__section shopBy\">\n      <div className=\"container\">\n        <h2 className=\"shopBy__title\">\n          Shop by category\n        </h2>\n\n        <div className=\"shopBy__categories\">\n          <div className=\"shopBy__category\">\n            <Link\n              data-cy=\"categoryLinksContainer\"\n              to=\"/phones\"\n              className=\"shopBy__link\"\n            >\n              <div className=\"shopBy__container\">\n                <img\n                  src=\"./img/categories/phone.svg\"\n                  alt=\"phones category\"\n                  className=\"shopBy__category-img\"\n                />\n              </div>\n              Mobile phones\n            </Link>\n\n            <span className=\"shopBy__category-count\">\n              {`${phoneCount} models`}\n            </span>\n          </div>\n\n          <div className=\"shopBy__category\">\n            <Link\n              data-cy=\"categoryLinksContainer\"\n              to=\"/tablets\"\n              className=\"shopBy__link\"\n            >\n              <div className=\"shopBy__container shopBy__container--grey\">\n                <img\n                  src=\"./img/categories/tablet.svg\"\n                  alt=\"phones category\"\n                  className=\"shopBy__category-img\"\n                />\n              </div>\n              Tablets\n            </Link>\n\n            <span className=\"shopBy__category-count\">\n              {`${tabletCount} models`}\n            </span>\n          </div>\n\n          <div className=\"shopBy__category\">\n            <Link\n              data-cy=\"categoryLinksContainer\"\n              to=\"/accessories\"\n              className=\"shopBy__link\"\n            >\n              <div className=\"shopBy__container shopBy__container--red\">\n                <img\n                  src=\"./img/categories/cases.svg\"\n                  alt=\"phones category\"\n                  className=\"shopBy__category-img\"\n                />\n              </div>\n              Accessories\n            </Link>\n\n            <span className=\"shopBy__category-count\">\n              {`${accessoriesCount} models`}\n            </span>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n","import { BrandNew } from '../components/BrandNew';\nimport { HotPrices } from '../components/HotPrices';\nimport { ShopBy } from '../components/ShopBy';\n\nexport const HomePage = () => {\n  return (\n    <>\n      <HotPrices />\n      <ShopBy />\n      <BrandNew />\n    </>\n  );\n};\n","import { BreadCrumbs } from '../components/BreadCrumbs';\nimport '../styles/page.scss';\n\nexport const PageNotFound = () => {\n  return (\n    <div className=\"container\">\n      <BreadCrumbs />\n      <div className=\"page__block\">\n        <h1 className=\"page__title\">Page not found</h1>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\ntype Props = {\n  options: string[];\n  onSelect: (option: string) => void;\n};\n\nexport const SelectList: React.FC<Props> = ({ options, onSelect }) => {\n  return (\n    <ul className=\"select__list\">\n      {options.map(option => (\n        <li\n          aria-hidden=\"true\"\n          key={option}\n          className=\"select__item\"\n          onClick={() => onSelect(option)}\n        >\n          {option}\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport './select.scss';\nimport { useToggle } from '../../hooks/useToggle';\nimport { SelectList } from '../SelectList';\n\ntype Props = {\n  type: string;\n  width: number;\n  options: string[];\n  defaultValue: string | number;\n  onSelect: () => void;\n  search: string;\n};\n\nexport const CustomSelect: React.FC<Props> = ({\n  width,\n  options,\n  type,\n  defaultValue,\n  onSelect,\n  search,\n}) => {\n  const [isOpen, setIsOpen, toggle] = useToggle();\n  const [currentOption, setCurrentOption] = useState(defaultValue);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const onOptionSelect = (value: string) => {\n    const sortParams = {\n      Newest: 'age',\n      Alphabetically: 'name',\n      Cheapest: 'price',\n    };\n\n    if (Object.hasOwn(sortParams, value)) {\n      searchParams.set('sort', sortParams[value as keyof typeof sortParams]);\n      setSearchParams(searchParams);\n    } else {\n      searchParams.set('perPage', value);\n    }\n\n    setSearchParams(searchParams);\n    setCurrentOption(value);\n    onSelect();\n    setIsOpen(false);\n  };\n\n  useEffect(() => {\n    if (!searchParams.get(search)) {\n      setCurrentOption(defaultValue);\n    }\n  }, [searchParams]);\n\n  return (\n    <div\n      className={`select ${type}`}\n      style={{ width: `${width}px` }}\n    >\n      <div\n        aria-hidden=\"true\"\n        className=\"select__head\"\n        onClick={toggle}\n        onKeyDown={toggle}\n      >\n        {currentOption}\n        <span className=\"select__arrow\">\n          {isOpen ? (\n            <img src=\"./img/icons/arrowUp.svg\" alt=\"select\" />\n          ) : (\n            <img src=\"./img/icons/arrowDown.svg\" alt=\"select\" />\n          )}\n        </span>\n      </div>\n\n      {isOpen && (\n        <div\n          className=\"select__holder\"\n          style={{ width: `${width}px` }}\n          onMouseLeave={toggle}\n        >\n          <SelectList options={options} onSelect={onOptionSelect} />\n        </div>\n      )}\n    </div>\n  );\n};\n","import {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useState,\n} from 'react';\n\nexport function useToggle(\n  value = false,\n): [boolean, Dispatch<SetStateAction<boolean>>, () => void] {\n  const [state, setState] = useState(value);\n\n  const toggle = useCallback(() => setState(prev => !prev), []);\n\n  return [state, setState, toggle];\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Button } from '../Button';\n\ntype Props = {\n  pages: number[];\n  currentPage: number;\n  onPageChange: (pageNumber: number) => void;\n};\n\nexport const PageList: React.FC<Props> = ({\n  pages,\n  currentPage,\n  onPageChange,\n}) => {\n  return (\n    <>\n      {pages.map(page => (\n        <li\n          key={page}\n          className={classnames(\n            'page-item ',\n            { 'pagination__button--active': page === currentPage },\n          )}\n        >\n          <Button\n            width=\"32px\"\n            height=\"32px\"\n            type={page === currentPage ? 'button--page' : ''}\n            handler={() => onPageChange(page)}\n          >\n            {page}\n          </Button>\n        </li>\n      ))}\n    </>\n  );\n};\n","import { useCallback } from 'react';\nimport cn from 'classnames';\nimport { Button } from '../Button';\nimport { getNumbers } from '../../helpers/helpers';\nimport './pagination.scss';\nimport { PageList } from '../PageList';\n\ntype Props = {\n  total: number;\n  perPage: number;\n  currentPage: number;\n  onPageChange: (pageNumber: number) => void;\n};\n\nexport const Pagination: React.FC<Props> = ({\n  total, perPage, onPageChange, currentPage,\n}) => {\n  const pageAmount = Math.ceil(total / perPage);\n  const pageNumbers = getNumbers(pageAmount);\n\n  const handlePrevClick = useCallback(() => {\n    if (currentPage > 1) {\n      onPageChange(currentPage - 1);\n    }\n  }, [currentPage]);\n\n  const handleNextClick = useCallback(() => {\n    if (currentPage <= total) {\n      onPageChange(currentPage + 1);\n    }\n  }, [currentPage]);\n\n  return (\n    <ul className=\"pagination\">\n      <li\n        className={cn('page-item', { disabled: currentPage === 1 })}\n      >\n        <Button\n          width=\"32px\"\n          height=\"32px\"\n          disabled={currentPage === 1}\n          handler={handlePrevClick}\n        >\n          <img src=\"./img/icons/arrowLeft.svg\" alt=\"prev\" />\n        </Button>\n      </li>\n\n      <PageList\n        pages={pageNumbers}\n        currentPage={currentPage}\n        onPageChange={onPageChange}\n      />\n\n      <Button\n        width=\"32px\"\n        height=\"32px\"\n        disabled={currentPage === pageAmount}\n        handler={handleNextClick}\n      >\n        <img src=\"./img/icons/arrowRight.svg\" alt=\"next\" />\n      </Button>\n    </ul>\n  );\n};\n","import { useCallback, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { ItemsOnPage, Sort } from '../../enums/enums';\nimport { getSalePrice } from '../../helpers/helpers';\nimport { Product } from '../../types/Product';\nimport { BreadCrumbs } from '../BreadCrumbs';\nimport { CustomSelect } from '../CustomSelect';\nimport { Pagination } from '../Pagination';\nimport { ProductList } from '../ProductList';\nimport { NoResults } from '../NoResults/NoResults';\n\nconst options = {\n  sort: ['Newest', 'Alphabetically', 'Cheapest'],\n  perPage: ['4', '8', '16', 'All'],\n};\n\ntype Props = {\n  title: string;\n  products: Product[];\n};\n\nexport const ProductBrowse: React.FC<Props> = ({ title, products }) => {\n  const [searchParams] = useSearchParams();\n  const [currentPage, setCurrentPage] = useState(1);\n  const sortParam = searchParams.get('sort') || '';\n  const query = searchParams.get('query') || '';\n\n  const getProductsOnPage = useCallback(() => {\n    const itemsOnPage = searchParams.get('perPage');\n\n    switch (itemsOnPage) {\n      case ItemsOnPage.ALL:\n        return products.length;\n\n      case ItemsOnPage.FOUR:\n        return 4;\n\n      case ItemsOnPage.EIGHT:\n        return 8;\n\n      case ItemsOnPage.SIXTEEN:\n        return 16;\n\n      default:\n        return 16;\n    }\n  }, [searchParams]);\n\n  const perPage = getProductsOnPage();\n\n  const onPageSelect = () => {\n    setCurrentPage(1);\n  };\n\n  const paginate = (pageNumber: number) => {\n    setCurrentPage(pageNumber);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  const getSortedProducts = useCallback((sortOption: string) => {\n    const copy = [...products];\n\n    switch (sortOption) {\n      case Sort.NEWEST:\n        return copy.sort((a, b) => a.age - b.age);\n\n      case Sort.ALPHABET:\n        return copy.sort((a, b) => a.name.localeCompare(b.name));\n\n      case Sort.CHEAPEST:\n        return copy.sort(\n          (a, b) => {\n            const priceA = getSalePrice(a.price, a.discount);\n            const priceB = getSalePrice(b.price, b.discount);\n\n            return priceA - priceB;\n          },\n        );\n\n      default:\n        return copy;\n    }\n  }, [products]);\n\n  const lastItemIndex = currentPage * perPage;\n  const firstItemIndex = lastItemIndex - perPage;\n\n  const currItems = getSortedProducts(sortParam)\n    .filter(item => item.name.toLowerCase().includes(query.toLowerCase()))\n    .slice(firstItemIndex, lastItemIndex);\n\n  const isNoPagination = perPage < currItems.length\n    || currItems.length === products.length;\n\n  return (\n    <section className=\"page__products\">\n      <BreadCrumbs />\n      <h1 className=\"page__title\">\n        {title}\n      </h1>\n\n      <span className=\"page__models-count\">\n        {query ? `${currItems.length} results` : `${products.length} models`}\n      </span>\n\n      <div className=\"page__selectWrapper\">\n        <CustomSelect\n          type=\"select__sort\"\n          options={options.sort}\n          onSelect={onPageSelect}\n          width={176}\n          search=\"sort\"\n          defaultValue=\"Newest\"\n        />\n\n        <CustomSelect\n          type=\"select__pagination\"\n          options={options.perPage}\n          onSelect={onPageSelect}\n          width={128}\n          defaultValue={16}\n          search=\"perPage\"\n        />\n      </div>\n\n      {currItems.length > 0 ? (\n        <>\n          <ProductList products={currItems} />\n\n          {!isNoPagination && (\n            <Pagination\n              total={query ? currItems.length : products.length}\n              perPage={perPage}\n              currentPage={currentPage}\n              onPageChange={paginate}\n            />\n          )}\n        </>\n      ) : (\n        <NoResults name=\"Product\" />\n      )}\n    </section>\n  );\n};\n","import { useContext } from 'react';\nimport { NoResults } from '../components/NoResults/NoResults';\nimport { ProductBrowse } from '../components/ProductBrowse';\nimport { CatalogContext } from '../context';\n\nexport const PhonesPage = () => {\n  const { products } = useContext(CatalogContext);\n  const category = products.filter(product => product.type === 'smartphone');\n\n  return (\n    <div className=\"container\">\n      {!category.length ? (\n        <NoResults name=\"Phones\" />\n      ) : (\n        <ProductBrowse title=\"Mobile phones\" products={category} />\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","export const DetailsAbout = () => {\n  return (\n    <div className=\"details__block details__block-about\">\n      <h2 className=\"details__title-h2\">\n        About\n      </h2>\n\n      <div className=\"details__feature-descp\">\n        <h3 className=\"details__title-h3\">\n          And then there was Pro\n        </h3>\n\n        <p className=\"details__text\">\n          A transformative triplecamera system\n          that adds tons of capability without complexity.\n\n          An unprecedented leap in battery life.\n          And a mindblowing chip that doubles down on machine learning\n          and pushes the boundaries of what a smartphone can do.\n          Welcome to the first iPhone powerful enough to be called Pro.\n        </p>\n      </div>\n      <div className=\"details__feature-descp\">\n        <h3 className=\"details__title-h3\">\n          Camera\n        </h3>\n\n        <p className=\"details__text\">\n          Meet the first triplecamera system\n          to combine cuttingedge technology\n          with the legendary simplicity of iPhone.\n          Capture up to four times more scene.\n          Get beautiful images in drastically lower light.\n          Shoot the highestquality video\n          in a smartphone  then edit with\n          the same tools you love for photos.\n          Youve never shot with anything like it.\n        </p>\n      </div>\n      <div className=\"details__feature-descp\">\n        <h3 className=\"details__title-h3\">\n          Shoot it. Flip it. Zoom it.\n          Crop it. Cut it. Light it.\n          Tweak it. Love it.\n        </h3>\n\n        <p className=\"details__text\">\n          iPhone 11 Pro lets you capture videos that\n          are beautifully true to life,\n          with greater detail and smoother motion.\n          Epic processing power means it can shoot 4K video\n          with extended dynamic range and\n          cinematic video stabilization  all at 60 fps.\n          You get more creative control, too, with four times more scene\n          and powerful new editing tools to play with.\n        </p>\n      </div>\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { getNumbers } from '../../helpers/helpers';\n\ntype Props = {\n  productData: { [key: string]: string };\n  currentPhoto: number;\n  onPhotoChange: (id: number) => void;\n};\n\nexport const DetailsPhotos: React.FC<Props> = ({\n  productData,\n  currentPhoto,\n  onPhotoChange,\n}) => {\n  const photosIndexes = useMemo(() => getNumbers(3), []);\n\n  return (\n    <div className=\"details__photos\">\n      <div className=\"details__photos-sml\">\n        {photosIndexes.map(photoId => (\n          <button\n            type=\"button\"\n            key={photoId}\n            className={classNames(\n              'details__photo-btn',\n              {\n                'details__photo-btn--active': photoId === currentPhoto,\n              },\n            )}\n            onClick={() => onPhotoChange(photoId)}\n          >\n            <img\n              className=\"details__img-sml\"\n              src={`./img/apple/${productData?.name}-${productData?.model}-${productData?.color}-${photoId}.jpg`}\n              alt=\"phone\"\n            />\n          </button>\n        ))}\n      </div>\n\n      <div className=\"details__photo-l\">\n        <img\n          className=\"details__img-l\"\n          src={`./img/apple/${productData?.name}-${productData?.model}-${productData?.color}-${currentPhoto}.jpg`}\n          alt=\"phone\"\n        />\n      </div>\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport React from 'react';\n\ntype Props = {\n  specs: { [key: string]: string | undefined };\n  keys: string[];\n  extraClass?: string;\n};\n\nexport const DetailsSpecs: React.FC<Props> = ({\n  specs,\n  keys,\n  extraClass,\n}) => {\n  return (\n    <div className=\"details__specs\">\n      {keys.map(spec => (\n        <div className=\"details__specs-row\">\n          <span\n            className={classNames(\n              'details__specs-title',\n              { [extraClass as string]: extraClass },\n            )}\n          >\n            {spec}\n          </span>\n          <span className={classNames(\n            'details__specs-value',\n            { [extraClass as string]: extraClass },\n          )}\n          >\n            {specs[spec]}\n          </span>\n        </div>\n      ))}\n    </div>\n  );\n};\n","import {\n  useState,\n  useEffect,\n  useMemo,\n  useCallback,\n  useContext,\n} from 'react';\nimport classNames from 'classnames';\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { BreadCrumbs } from '../components/BreadCrumbs';\nimport { ProductBlock } from '../components/ProductBlock';\nimport '../styles/details.scss';\nimport {\n  getSalePrice,\n  getGoodsLink,\n  getUrlData,\n} from '../helpers/helpers';\nimport { ProductDetails } from '../types/ProductDetails';\nimport { getProductDetails } from '../api/products';\nimport { Loader } from '../components/Loader';\nimport { CatalogContext } from '../context';\nimport { AddToCartButton } from '../components/AddToCartButton/AddToCartButton';\nimport { FavouriteButton } from '../components/FavouriteButton/FavouriteButton';\nimport { NoResults } from '../components/NoResults/NoResults';\nimport { DetailsAbout } from '../components/DetailsAbout';\nimport { DetailsPhotos } from '../components/DetailsPhotos';\nimport { DetailsSpecs } from '../components/DetailsSpecs';\n\nexport const ProductDetailsPage = () => {\n  const { products } = useContext(CatalogContext);\n  const [details, setDetails] = useState<ProductDetails | null>(null);\n  const [currentPhoto, setCurrentPhoto] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const params = useParams();\n  const navigate = useNavigate();\n\n  const productData = getUrlData(params.productId as string);\n\n  const loadDetails = async () => {\n    if (!productData) {\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const loadedData = await getProductDetails(\n        productData?.name,\n        productData?.model,\n      );\n\n      setDetails(loadedData);\n    } catch {\n      throw new Error('Unable to load details!');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const onPhotoChange = useCallback(\n    (id: number) => setCurrentPhoto(id), [currentPhoto],\n  );\n\n  useEffect(() => {\n    loadDetails();\n  }, [params]);\n\n  const product = useMemo(() => (\n    products.find(item => item.id === params.productId)\n  ), [products]);\n\n  const visibleProducts = products.filter(item => item.age <= 1);\n  const priceWithDiscount = product && getSalePrice(\n    product?.price, product?.discount,\n  );\n\n  const getProductSpecs = useCallback(\n    () => {\n      return {\n        Screen: `${details?.screen}\" OLED`,\n        Resolution: details?.resolution,\n        Processor: details?.processor,\n        RAM: details?.ram,\n        'Built in memory': product?.capacity,\n        Camera: details?.camera,\n        Zoom: details?.zoom,\n        Cell: details?.cell,\n      };\n    }, [details, product],\n  );\n\n  const specs: { [key: string]: string | undefined } = getProductSpecs();\n  const specsPreview = useMemo(() => Object.keys(specs).slice(0, 4), []);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  return (\n    <section className=\"details\">\n      {product && productData && !isLoading ? (\n        <div className=\"container\">\n          <BreadCrumbs />\n          <button\n            type=\"button\"\n            className=\"details__back-btn\"\n            onClick={() => navigate(-1)}\n          >\n            Back\n          </button>\n\n          <h1 className=\"details__title-head\">\n            {product?.name}\n          </h1>\n\n          <div className=\"details__wrapper details__wrapper--top\">\n            <DetailsPhotos\n              productData={productData}\n              currentPhoto={currentPhoto}\n              onPhotoChange={onPhotoChange}\n            />\n\n            <div className=\"details__actions\">\n              <div className=\"details__holder\">\n                <span className=\"details__label\">\n                  Available colors\n                </span>\n\n                <div className=\"details__actions-links\">\n                  {details?.colors.map(({ color, hex }) => (\n                    <Link\n                      key={hex}\n                      to={getGoodsLink(\n                        product?.type,\n                        productData?.name,\n                        productData?.model,\n                        color,\n                        productData?.capacity,\n                      )}\n                      className={classNames(\n                        'details__color-link',\n                        {\n                          'details__color-link--active': (\n                            productData?.color === color\n                          ),\n                        },\n                      )}\n                      style={{ backgroundColor: `${hex}` }}\n                    />\n                  ))}\n                </div>\n\n                <span className=\"details__label\">\n                  Select capacity\n                </span>\n                <div className=\"details__actions-links\">\n                  {details?.capacity.map(cap => (\n                    <Link\n                      key={cap}\n                      to={getGoodsLink(\n                        product?.type,\n                        productData?.name,\n                        productData?.model,\n                        productData?.color,\n                        cap,\n                      )}\n                      className={classNames(\n                        'details__capacity-link',\n                        { 'details__capacity-link--active': `${cap}` === (productData?.capacity) },\n                      )}\n                    >\n                      {`${cap}`}\n                    </Link>\n                  ))}\n                </div>\n\n                <div className=\"details__price\">\n                  {product?.discount ? (\n                    <>\n                      {`$${priceWithDiscount}`}\n                      <span className=\"details__price--sale\">\n                        {`$${product?.price}`}\n                      </span>\n                    </>\n                  ) : (`$${product?.price}`)}\n                </div>\n\n                <div className=\"details__buttons\">\n                  {product && (\n                    <>\n                      <AddToCartButton height=\"48px\" product={product} />\n\n                      <FavouriteButton size=\"48px\" product={product} />\n                    </>\n                  )}\n                </div>\n\n                <DetailsSpecs keys={specsPreview} specs={specs} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"details__wrapper\">\n            <DetailsAbout />\n\n            <div className=\"details__block-specs\">\n              <h2 className=\"details__title-h2\">\n                Tech specs\n              </h2>\n\n              <DetailsSpecs\n                keys={Object.keys(specs)}\n                specs={specs}\n                extraClass=\"details__text\"\n              />\n            </div>\n          </div>\n\n          <ProductBlock\n            sectionTitle=\"You may also like\"\n            products={visibleProducts}\n          />\n        </div>\n      ) : (\n        <NoResults name=\"Product\" />\n      )}\n    </section>\n  );\n};\n","import { useContext } from 'react';\nimport { NoResults } from '../components/NoResults/NoResults';\nimport { ProductBrowse } from '../components/ProductBrowse';\nimport { CatalogContext } from '../context';\n\nexport const TabletsPage = () => {\n  const { products } = useContext(CatalogContext);\n  const tablet = products.filter(product => product.type === 'tablet');\n\n  return (\n    <div className=\"container\">\n      {tablet.length > 0 ? (\n        <ProductBrowse title=\"Tablets\" products={tablet} />\n      ) : (\n        <NoResults name=\"Tablets\" />\n      )}\n    </div>\n  );\n};\n","import { NoResults } from '../components/NoResults/NoResults';\n\nexport const AccessoriesPage = () => {\n  return (\n    <div className=\"container\">\n      <NoResults name=\"Accessories\" />\n    </div>\n  );\n};\n","import { Navigate, Route, Routes } from 'react-router';\nimport { Footer } from './components/Footer';\nimport { Header } from './components/Header';\nimport { CartPage } from './pages/CartPage';\nimport { FavoritesPage } from './pages/FavoritesPage';\nimport { HomePage } from './pages/HomePage';\nimport { PageNotFound } from './pages/PageNotFound';\nimport { PhonesPage } from './pages/PhonesPage';\nimport { ProductDetailsPage } from './pages/ProductDetailsPage';\nimport './App.scss';\nimport { TabletsPage } from './pages/TabletsPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage';\n\nconst App = () => (\n  <div className=\"App\">\n    <Header />\n    <main className=\"page__main\">\n      <Routes>\n        <Route path=\"/\" element={<HomePage />} />\n        <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n\n        <Route path=\"phones\">\n          <Route index element={<PhonesPage />} />\n          <Route path=\":productId\" element={<ProductDetailsPage />} />\n        </Route>\n\n        <Route path=\"tablets\">\n          <Route index element={<TabletsPage />} />\n          <Route path=\":productId\" element={<ProductDetailsPage />} />\n        </Route>\n\n        <Route path=\"accessories\">\n          <Route index element={<AccessoriesPage />} />\n          <Route path=\":productId\" element={<ProductDetailsPage />} />\n        </Route>\n\n        <Route path=\"favorites\" element={<FavoritesPage />} />\n\n        <Route path=\"cart\" element={<CartPage />} />\n\n        <Route path=\"*\" element={<PageNotFound />} />\n      </Routes>\n    </main>\n    <Footer />\n  </div>\n);\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\nimport { CatalogProvider } from './context';\nimport './index.scss';\n\nReactDOM.render(\n  <HashRouter>\n    <CatalogProvider>\n      <App />\n    </CatalogProvider>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}